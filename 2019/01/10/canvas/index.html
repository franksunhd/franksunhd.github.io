<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/franksunhd.github.io/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/franksunhd.github.io/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/franksunhd.github.io/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/franksunhd.github.io/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/franksunhd.github.io/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/franksunhd.github.io/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/franksunhd.github.io/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="canvas,">










<meta name="description" content="什么是 canvas? canvas 是 HTML5提供的一个新标签,可通过javascript脚本绘制2D 图形. canvas 最早在 Apple 引入,后来又在 Safari 和 Google Chrome中实现 canvas 是非常炫酷的功能,它能很简洁的进行2D 绘图,还可以进行游戏的开发 低版本的 IE 不支持">
<meta name="keywords" content="canvas">
<meta property="og:type" content="article">
<meta property="og:title" content="canvas绘图">
<meta property="og:url" content="https://franksunhd.github.io/franksunhd.github.io/2019/01/10/canvas/index.html">
<meta property="og:site_name" content="孙思研的个人博客">
<meta property="og:description" content="什么是 canvas? canvas 是 HTML5提供的一个新标签,可通过javascript脚本绘制2D 图形. canvas 最早在 Apple 引入,后来又在 Safari 和 Google Chrome中实现 canvas 是非常炫酷的功能,它能很简洁的进行2D 绘图,还可以进行游戏的开发 低版本的 IE 不支持">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-01-12T06:11:13.052Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="canvas绘图">
<meta name="twitter:description" content="什么是 canvas? canvas 是 HTML5提供的一个新标签,可通过javascript脚本绘制2D 图形. canvas 最早在 Apple 引入,后来又在 Safari 和 Google Chrome中实现 canvas 是非常炫酷的功能,它能很简洁的进行2D 绘图,还可以进行游戏的开发 低版本的 IE 不支持">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/franksunhd.github.io/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://franksunhd.github.io/franksunhd.github.io/2019/01/10/canvas/">





  <title>canvas绘图 | 孙思研的个人博客</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/franksunhd.github.io/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">孙思研的个人博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description"></h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/franksunhd.github.io/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/franksunhd.github.io/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/franksunhd.github.io/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/franksunhd.github.io/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://franksunhd.github.io/franksunhd.github.io/franksunhd.github.io/2019/01/10/canvas/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="franksun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/franksunhd.github.io/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="孙思研的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">canvas绘图</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-01-10T18:25:35+08:00">
                2019-01-10
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/franksunhd.github.io/categories/绘图/" itemprop="url" rel="index">
                    <span itemprop="name">绘图</span>
                  </a>
                </span>

                
                
              
            </span>
          
          
            <div class="post-tags">
              
                <a href="/franksunhd.github.io/tags/canvas/" style="border-bottom:none;" rel="tag" class="fa fa-tag">  canvas</a>
              
            </div>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="什么是-canvas"><a href="#什么是-canvas" class="headerlink" title="什么是 canvas?"></a>什么是 canvas?</h3><ul>
<li>canvas 是 HTML5提供的一个新标签,可通过javascript脚本绘制2D 图形.</li>
<li>canvas 最早在 Apple 引入,后来又在 Safari 和 Google Chrome中实现</li>
<li>canvas 是非常炫酷的功能,它能很简洁的进行2D 绘图,还可以进行游戏的开发</li>
<li>低版本的 IE 不支持</li>
</ul>
<a id="more"></a>
<h3 id="canvas-的特点"><a href="#canvas-的特点" class="headerlink" title="canvas 的特点"></a>canvas 的特点</h3><ul>
<li>canvas 是一个矩形区域的画布,可以用 JavaScript 在上面绘画,控制其每一个像素.</li>
<li>canvas 标签使用 JavaScript 在网页绘制图像,本身不具备绘图功能.</li>
<li>如果浏览器不支持,它就显示 canvas 的内容</li>
</ul>
<h3 id="canvas-的应用领域"><a href="#canvas-的应用领域" class="headerlink" title="canvas 的应用领域"></a>canvas 的应用领域</h3><ul>
<li>游戏:</li>
<li>可视化数据:数据图表化 比如:百度的 echart</li>
<li>banner广告</li>
<li>未来模拟器</li>
<li>未来远程计算机控制</li>
<li>未来图形编辑器</li>
</ul>
<h3 id="canvas-语法"><a href="#canvas-语法" class="headerlink" title="canvas 语法"></a>canvas 语法</h3><ul>
<li>不要使用 CSS 控制它的宽和高,会让图片进行拉伸</li>
<li>canvas 要在标签内设置宽和高,也就是标签内的自己的属性,canvas 默认宽高300px 和 150px</li>
<li>不能在 css 和 js 里边设置宽和高,可以 canvas.width 和 canvas.height 设置</li>
<li>重新设置 canvas标签的宽高属性会让画布擦除所有的内容</li>
<li>可以给 canvas画布通过 style 属性设置其它属性</li>
<li>canvas 是行元素</li>
<li>canvas 坐标遵循笛卡尔坐标系,原点在左上角</li>
</ul>
<h3 id="常用操作方法"><a href="#常用操作方法" class="headerlink" title="常用操作方法"></a>常用操作方法</h3><h4 id="getContext-“2d”"><a href="#getContext-“2d”" class="headerlink" title="getContext(“2d”);"></a>getContext(“2d”);</h4><ul>
<li>用于获得画布上下文对象,然后才可以对画布进行操作,参数2d 表示当前画布支持2D 绘图,如果希望将当前画布支持3d ,则传入” webgl”</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"canvas"</span>);</span><br><span class="line"><span class="keyword">var</span> ctx = canvas.getContext();</span><br></pre></td></tr></table></figure>
<h4 id="ctx-beginPath"><a href="#ctx-beginPath" class="headerlink" title="ctx.beginPath()"></a>ctx.beginPath()</h4><ul>
<li>设置绘制的开始</li>
</ul>
<h4 id="ctx-closePath"><a href="#ctx-closePath" class="headerlink" title="ctx.closePath()"></a>ctx.closePath()</h4><ul>
<li>设置绘制的结束</li>
</ul>
<h4 id="ctx-moveTo-x-y"><a href="#ctx-moveTo-x-y" class="headerlink" title="ctx.moveTo(x,y)"></a>ctx.moveTo(x,y)</h4><ul>
<li>设置绘制的线段起点</li>
</ul>
<h4 id="ctx-lineTo-x-y"><a href="#ctx-lineTo-x-y" class="headerlink" title="ctx.lineTo(x,y)"></a>ctx.lineTo(x,y)</h4><ul>
<li><p>设置绘制线段的终点</p>
</li>
<li><p>x,y 代表坐标值</p>
</li>
</ul>
<h4 id="ctx-stroke"><a href="#ctx-stroke" class="headerlink" title="ctx.stroke()"></a>ctx.stroke()</h4><ul>
<li>对绘制路径进行描边填充</li>
</ul>
<h4 id="ctx-fill"><a href="#ctx-fill" class="headerlink" title="ctx.fill()"></a>ctx.fill()</h4><ul>
<li>对绘制路径进行内部填充</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 绘制一条线段</span></span><br><span class="line">cxt.beginPath(); <span class="comment">// 开始作画</span></span><br><span class="line"></span><br><span class="line">cxt.moveTo(<span class="number">100</span>,<span class="number">100</span>); <span class="comment">// 设置开始坐标,参数皆为 number类型</span></span><br><span class="line">cxt.lineTo(<span class="number">500</span>,<span class="number">400</span>);</span><br><span class="line"></span><br><span class="line">cxt.lineWidth = <span class="number">5</span>; <span class="comment">// 线条宽度</span></span><br><span class="line">cxt.strokeStyle = <span class="string">"blue"</span>;  <span class="comment">// 线条颜色</span></span><br><span class="line"></span><br><span class="line">cxt.stroke();  <span class="comment">// 描边</span></span><br><span class="line">cxt.closePath();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 绘制一个三角形</span></span><br><span class="line">cxt.beginPath();</span><br><span class="line">cxt.moveTo(<span class="number">300</span>,<span class="number">100</span>);</span><br><span class="line">cxt.lineTo(<span class="number">150</span>,<span class="number">300</span>);</span><br><span class="line">cxt.lineTo(<span class="number">450</span>,<span class="number">300</span>);</span><br><span class="line">cxt.lineTo(<span class="number">300</span>,<span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">cxt.lineWidth = <span class="number">2</span>; <span class="comment">// 线条宽度</span></span><br><span class="line">cxt.strokeStyle = <span class="string">"#ff0"</span>;  <span class="comment">// 线条颜色</span></span><br><span class="line"></span><br><span class="line">cxt.stroke();  <span class="comment">// 描边</span></span><br><span class="line">cxt.closePath();</span><br></pre></td></tr></table></figure>
<h4 id="ctx-rect-x-y-w-h"><a href="#ctx-rect-x-y-w-h" class="headerlink" title="ctx.rect(x,y,w,h)"></a>ctx.rect(x,y,w,h)</h4><ul>
<li>(x,y,width,height)</li>
<li>绘制矩形路径</li>
<li>x ,y 代表左上角位置坐标</li>
<li>width 和 height 代表矩形的宽和高</li>
</ul>
<h4 id="ctx-fillRect-x-y-w-h"><a href="#ctx-fillRect-x-y-w-h" class="headerlink" title="ctx.fillRect(x,y,w,h)"></a>ctx.fillRect(x,y,w,h)</h4><ul>
<li>(x,y,width,height)</li>
<li>绘制填充矩形</li>
</ul>
<h4 id="ctx-strokeRect-x-y-w-h"><a href="#ctx-strokeRect-x-y-w-h" class="headerlink" title="ctx.strokeRect(x,y,w,h)"></a>ctx.strokeRect(x,y,w,h)</h4><ul>
<li>(x,y,width,height)</li>
<li>绘制描边矩形</li>
</ul>
<h4 id="ctx-clearRect-x-y-w-h"><a href="#ctx-clearRect-x-y-w-h" class="headerlink" title="ctx.clearRect(x,y,w,h)"></a>ctx.clearRect(x,y,w,h)</h4><ul>
<li>(x,y,width,height)</li>
<li>擦除矩形</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 绘制矩形</span></span><br><span class="line">cxt.beginPath();</span><br><span class="line">cxt.rect(<span class="number">100</span>,<span class="number">100</span>,<span class="number">300</span>,<span class="number">300</span>);</span><br><span class="line"></span><br><span class="line">cxt.lineWidth  = <span class="number">3</span>;</span><br><span class="line">cxt.strokeStyle = <span class="string">"#333"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意: 先设置样式,再进行喧染</span></span><br><span class="line">cxt.stroke();</span><br><span class="line">cxt.closePath();</span><br><span class="line"></span><br><span class="line">cxt.beginPath()</span><br><span class="line">cxt.strokeRect(<span class="number">200</span>,<span class="number">200</span>,<span class="number">300</span>,<span class="number">300</span>);</span><br><span class="line">cxt.closePath();</span><br></pre></td></tr></table></figure>
<h4 id="ctx-arc-x-y-r-s-e-c"><a href="#ctx-arc-x-y-r-s-e-c" class="headerlink" title="ctx.arc(x,y,r,s,e,c)"></a>ctx.arc(x,y,r,s,e,c)</h4><ul>
<li>(x,y,r,sAngle,eAngle,counterclockwise)</li>
<li>绘制圆弧</li>
<li>x,y 圆心的位置坐标</li>
<li>sAngle, 和 eAngle 是开始弧度和结束弧度</li>
<li>counterclockwise 是 bool 值,决定是否逆时针 默认 false</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 画弧形</span></span><br><span class="line">    <span class="comment">// 1. 在 canvas中,角度都是弧度</span></span><br><span class="line">    <span class="comment">// 2. 0角度为3点钟方向,顺时针为正,逆时针为负</span></span><br><span class="line">    <span class="comment">// 3. cxt.arc(圆心 x, 圆心 y, 半径长度,起始角度,结束角度,是否逆时针);</span></span><br><span class="line"></span><br><span class="line">cxt.beginPath();</span><br><span class="line">cxt.arc(<span class="number">200</span>,<span class="number">200</span>,<span class="number">100</span>,<span class="number">0</span>,<span class="number">2</span> * <span class="built_in">Math</span>.PI ,<span class="literal">false</span>);</span><br><span class="line">cxt.fillStyle = <span class="string">"#000"</span>;</span><br><span class="line">cxt.strokeStyle = <span class="string">"#000"</span>;</span><br><span class="line">cxt.fill();</span><br><span class="line">cxt.stroke();</span><br><span class="line">cxt.closePath();</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 扇形</span></span><br><span class="line">cxt.beginPath();</span><br><span class="line">cxt.arc(<span class="number">300</span>,<span class="number">300</span>,<span class="number">200</span>,<span class="number">0</span>,<span class="built_in">Math</span>.PI/<span class="number">2</span>,<span class="literal">false</span>);</span><br><span class="line">cxt.moveTo(<span class="number">300</span>,<span class="number">502</span>);</span><br><span class="line">cxt.lineTo(<span class="number">300</span>,<span class="number">302</span>);</span><br><span class="line">cxt.lineTo(<span class="number">500</span>,<span class="number">302</span>);</span><br><span class="line">cxt.stroke();</span><br><span class="line">cxt.fillStyle = <span class="string">"#f00"</span>;</span><br><span class="line">cxt.fill();</span><br><span class="line">cxt.closePath();</span><br></pre></td></tr></table></figure>
<h4 id="arcTo-x-y-x-y-r"><a href="#arcTo-x-y-x-y-r" class="headerlink" title="arcTo(x,y,x,y,r)"></a>arcTo(x,y,x,y,r)</h4><ul>
<li>(第一个点 x,第一个点 y,第二个点 x,第二个点 y,半径长度) 画弧形,两个点确定一个弧</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// arcTo(第一个点 x,第一个点 y,第二个点 x,第二个点 y,半径长度) 画弧形,两个点确定一个弧</span></span><br><span class="line"><span class="comment">// 使用该方法需要在使用之前加一个起点</span></span><br><span class="line"></span><br><span class="line">cxt.beginPath();</span><br><span class="line">cxt.moveTo(<span class="number">20</span>,<span class="number">20</span>);</span><br><span class="line">cxt.arcTo(<span class="number">300</span>,<span class="number">100</span>,<span class="number">100</span>,<span class="number">300</span>,<span class="number">50</span>);</span><br><span class="line">cxt.lineTo(<span class="number">100</span>,<span class="number">300</span>);</span><br><span class="line">cxt.stroke();</span><br><span class="line">cxt.closePath();</span><br></pre></td></tr></table></figure>
<h3 id="常用属性"><a href="#常用属性" class="headerlink" title="常用属性"></a>常用属性</h3><h4 id="ctx-strokeStyle"><a href="#ctx-strokeStyle" class="headerlink" title="ctx.strokeStyle"></a>ctx.strokeStyle</h4><ul>
<li>设置描边颜色<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ctx.strokeStyle = <span class="string">"red"</span>;</span><br><span class="line">ctx.strokeStyle = <span class="string">"#efe"</span>;</span><br><span class="line">ctx.strokeStyle = <span class="string">"rgba(0,0,0,0.5)"</span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="ctx-fillStyle"><a href="#ctx-fillStyle" class="headerlink" title="ctx.fillStyle"></a>ctx.fillStyle</h4><ul>
<li>设置填充颜色</li>
</ul>
<h4 id="ctx-lineWidth"><a href="#ctx-lineWidth" class="headerlink" title="ctx.lineWidth"></a>ctx.lineWidth</h4><ul>
<li>设置线条宽度</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctx.lineWidth= <span class="number">3</span>px;</span><br></pre></td></tr></table></figure>
<h4 id="cxt-font"><a href="#cxt-font" class="headerlink" title="cxt.font"></a>cxt.font</h4><ul>
<li>设置文字属性</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cxt.font = <span class="string">"bold 50px 'STKaiti'"</span>;</span><br></pre></td></tr></table></figure>
<h4 id="cxt-textAlign"><a href="#cxt-textAlign" class="headerlink" title="cxt.textAlign"></a>cxt.textAlign</h4><ul>
<li>设置水平对齐方式</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// cxt.textAlign 设置水平对齐方式 start,end,left,center,right</span></span><br><span class="line">cxt.textAlign = <span class="string">"center"</span>;</span><br></pre></td></tr></table></figure>
<h4 id="cxt-textBaseline"><a href="#cxt-textBaseline" class="headerlink" title="cxt.textBaseline"></a>cxt.textBaseline</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// cxt.textBaseline 设置垂直对齐方式 top,bottom.middle</span></span><br><span class="line">cxt.textBaseline = <span class="string">"middle"</span>;</span><br></pre></td></tr></table></figure>
<h4 id="阴影x轴的偏移量-y轴的偏移量"><a href="#阴影x轴的偏移量-y轴的偏移量" class="headerlink" title="阴影x轴的偏移量/y轴的偏移量"></a>阴影x轴的偏移量/y轴的偏移量</h4><ul>
<li>(shadowOffsetX/shadowOffsetY)</li>
</ul>
<h4 id="阴影颜色-模糊度"><a href="#阴影颜色-模糊度" class="headerlink" title="阴影颜色/模糊度"></a>阴影颜色/模糊度</h4><ul>
<li>(shadowColor / shadowBlur)</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cxt.shadowOffsetX = <span class="number">30</span>;</span><br><span class="line">cxt.shadowOffsetY = <span class="number">30</span>;</span><br><span class="line">cxt.shadowColor = <span class="string">"#0f0"</span>;</span><br><span class="line">cxt.shadowBlur = <span class="number">10</span>;</span><br></pre></td></tr></table></figure>
<h4 id="坐标轴形变"><a href="#坐标轴形变" class="headerlink" title="坐标轴形变"></a>坐标轴形变</h4><ul>
<li>translate(x,y)/scale(x缩放倍数, y 缩放倍数)/rotate(旋转弧度)</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 坐标轴形变:先移动,然后旋转,最后再缩放,超出画布内容不显示</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// cxt.translate(目标 x, 目标 y) 坐标轴平移</span></span><br><span class="line"><span class="comment">// cxt.scale(x 缩放倍数, y 缩放倍数) 缩放</span></span><br><span class="line"><span class="comment">// cxt.rotate(旋转弧度)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 把坐标轴的原点平移到坐标轴的最中间</span></span><br><span class="line"></span><br><span class="line">cxt.beginPath();</span><br><span class="line">cxt.translate(<span class="number">300</span>,<span class="number">300</span>);</span><br><span class="line"><span class="comment">// 坐标轴旋转 67 度</span></span><br><span class="line">cxt.rotate(<span class="built_in">Math</span>.PI/<span class="number">180</span>*<span class="number">67</span>);</span><br><span class="line">cxt.scale(<span class="number">3</span>,<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">cxt.shadowOffsetX = <span class="number">30</span>;</span><br><span class="line">cxt.shadowOffsetY = <span class="number">30</span>;</span><br><span class="line">cxt.shadowColor = <span class="string">"#0f0"</span>;</span><br><span class="line">cxt.shadowBlur = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">cxt.arc(<span class="number">0</span>,<span class="number">0</span>,<span class="number">50</span>,<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI,<span class="literal">false</span>);</span><br><span class="line">cxt.fill();</span><br><span class="line"></span><br><span class="line">cxt.closePath();</span><br></pre></td></tr></table></figure>
<h4 id="旋转"><a href="#旋转" class="headerlink" title="旋转"></a>旋转</h4><ul>
<li>window.requestAniamationFrame()</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// window.requestAnimationFrame 帧动画,按照关键帧的频率进行循环操作</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 正方形旋转</span></span><br><span class="line"><span class="keyword">var</span> deg = <span class="number">0</span>;</span><br><span class="line">cxt.fillStyle = <span class="string">"#f00"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">rect</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    deg++;</span><br><span class="line">    cxt.save();</span><br><span class="line">    cxt.clearRect(<span class="number">0</span>,<span class="number">0</span>,<span class="number">600</span>,<span class="number">600</span>);</span><br><span class="line">    <span class="comment">// 移动坐标原点</span></span><br><span class="line">    cxt.translate(<span class="number">300</span>,<span class="number">300</span>);</span><br><span class="line">    cxt.rotate(<span class="built_in">Math</span>.PI/<span class="number">180</span> * deg);</span><br><span class="line">    cxt.fillRect(<span class="number">-100</span>,<span class="number">-100</span>,<span class="number">200</span>,<span class="number">200</span>);</span><br><span class="line">    cxt.restore();</span><br><span class="line">    <span class="built_in">window</span>.requestAnimationFrame(rect);</span><br><span class="line">&#125;</span><br><span class="line">rect();</span><br></pre></td></tr></table></figure>
<h4 id="cxt-globalAlpha"><a href="#cxt-globalAlpha" class="headerlink" title="cxt.globalAlpha"></a>cxt.globalAlpha</h4><ul>
<li>透明</li>
</ul>
<h3 id="应用实例"><a href="#应用实例" class="headerlink" title="应用实例"></a>应用实例</h3><h4 id="绘制点线"><a href="#绘制点线" class="headerlink" title="绘制点线"></a>绘制点线</h4><ul>
<li>moveTo() 和 lineTo()</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- <span class="number">1.</span> 新建画布区域 --&gt;</span><br><span class="line">    &lt;canvas id=<span class="string">"canvas"</span> width=<span class="string">"1000"</span> height=<span class="string">"1000"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span></span><br><span class="line">    &lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'canvas'</span>);</span><br><span class="line">    <span class="comment">// 2. 获得画布 上下文对象 ‘2d’ 表示当前画布支持 2D绘图</span></span><br><span class="line">    <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line">    <span class="comment">// 设置绘制开始 每次重新绘制一个路径的开始</span></span><br><span class="line">    ctx.beginPath();</span><br><span class="line">    <span class="comment">// 移动绘制的起始位置</span></span><br><span class="line">    ctx.moveTo(<span class="number">170</span>,<span class="number">170</span>);</span><br><span class="line">    <span class="comment">// 绘制点的位置</span></span><br><span class="line">    ctx.lineTo(<span class="number">300</span>,<span class="number">300</span>);</span><br><span class="line">    <span class="comment">// 描边</span></span><br><span class="line">    ctx.stroke();</span><br><span class="line">    <span class="comment">// 设置绘制结束</span></span><br><span class="line">    ctx.closePath();</span><br><span class="line">    ctx.beginPath();</span><br><span class="line">    ctx.moveTo(<span class="number">50</span>,<span class="number">50</span>);</span><br><span class="line">    ctx.lineTo(<span class="number">150</span>,<span class="number">50</span>);</span><br><span class="line">    ctx.lineTo(<span class="number">150</span>,<span class="number">150</span>);</span><br><span class="line">    ctx.lineTo(<span class="number">50</span>,<span class="number">150</span>);</span><br><span class="line">    ctx.lineTo(<span class="number">50</span>,<span class="number">50</span>);</span><br><span class="line">    <span class="comment">// 内部填充</span></span><br><span class="line">    ctx.fill();</span><br><span class="line">    ctx.closePath();</span><br><span class="line">    &lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="绘制矩形"><a href="#绘制矩形" class="headerlink" title="绘制矩形"></a>绘制矩形</h4><ul>
<li>fillRect() 和 strokeRect()</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas id=<span class="string">"canvas"</span> width=<span class="string">"300"</span> height=<span class="string">"300"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span></span><br><span class="line">    &lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'canvas'</span>);</span><br><span class="line">    <span class="comment">// 2. 获得画布 上下文对象 ‘2d’ 表示当前画布支持 2D绘图</span></span><br><span class="line">    <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line"></span><br><span class="line">    ctx.beginPath();</span><br><span class="line">    <span class="comment">// 绘制矩形 起点位置 10 10 width 50px height 50px</span></span><br><span class="line">    ctx.rect(<span class="number">10</span>,<span class="number">10</span>,<span class="number">50</span>,<span class="number">50</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 填充矩形  （指定位置）</span></span><br><span class="line">    ctx.fillStyle = <span class="string">"red"</span>;</span><br><span class="line">    ctx.fillRect(<span class="number">20</span>,<span class="number">20</span>,<span class="number">20</span>,<span class="number">20</span>);</span><br><span class="line">    <span class="comment">// 矩形描边 需要对属性先进行设置</span></span><br><span class="line">    ctx.lineWidth = <span class="number">3</span>;</span><br><span class="line">    ctx.strokeStyle = <span class="string">"#300"</span>;</span><br><span class="line">    <span class="comment">// 绘制矩形 起点位置 10 10 width 50px height 50px</span></span><br><span class="line">    ctx.strokeRect(<span class="number">10</span>,<span class="number">10</span>,<span class="number">50</span>,<span class="number">50</span>);</span><br><span class="line"></span><br><span class="line">    ctx.closePath();</span><br><span class="line">    ctx.beginPath();</span><br><span class="line">    <span class="comment">// 擦除矩形</span></span><br><span class="line">    <span class="comment">// ctx.clearRect(x,y,width,height);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 绘制圆弧</span></span><br><span class="line">    ctx.fillStyle = <span class="string">"blue"</span>;</span><br><span class="line">    ctx.arc(<span class="number">250</span>, <span class="number">250</span>, <span class="number">100</span>, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">0.5</span>, <span class="literal">false</span>);</span><br><span class="line">    ctx.fill();</span><br><span class="line">    &lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="绘制文本"><a href="#绘制文本" class="headerlink" title="绘制文本"></a>绘制文本</h4><ul>
<li>fillText() 和 strokeText()</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// cxt.font 设置文字属性</span></span><br><span class="line"><span class="comment">// cxt.textAlign 设置水平对齐方式 start,end,left,center,right</span></span><br><span class="line"><span class="comment">// cxt.textBaseline 设置垂直对齐方式 top,bottom.middle</span></span><br><span class="line"></span><br><span class="line">&lt;canvas id=<span class="string">"canvas"</span> width=<span class="string">"300"</span> height=<span class="string">"300"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span></span><br><span class="line">    &lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">      <span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'canvas'</span>);</span><br><span class="line">      <span class="comment">// 获得画布</span></span><br><span class="line">      <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line">      ctx.font = <span class="string">"50px '宋体'"</span>;</span><br><span class="line">      ctx.textAlign = <span class="string">"center"</span>;</span><br><span class="line">      <span class="comment">// fillText(text,x,y,maxwidth) maxwidth 可设置最大宽度</span></span><br><span class="line">      <span class="comment">// 绘制实体文本</span></span><br><span class="line">      ctx.fillText(<span class="string">"fillText"</span>,<span class="number">100</span>,<span class="number">100</span>);</span><br><span class="line">      <span class="comment">// 绘制边框文本</span></span><br><span class="line">      ctx.strokeText(<span class="string">"strokeText"</span>,<span class="number">100</span>,<span class="number">200</span>);</span><br><span class="line">    &lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="绘制弧形"><a href="#绘制弧形" class="headerlink" title="绘制弧形"></a>绘制弧形</h4><ul>
<li>arc()</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas id=<span class="string">"canvas"</span> width=<span class="string">"300"</span> height=<span class="string">"300"</span>&gt;你的浏览器不支持canvas&lt;<span class="regexp">/canvas&gt;</span></span><br><span class="line"><span class="regexp">    &lt;script type="text/</span>javascript<span class="string">"&gt;</span></span><br><span class="line"><span class="string">      var canvas = document.getElementById("</span>canvas<span class="string">");</span></span><br><span class="line"><span class="string">      canvas.style.border = "</span><span class="number">1</span>px solid red<span class="string">";</span></span><br><span class="line"><span class="string">      // 获得画布</span></span><br><span class="line"><span class="string">      var ctx = canvas.getContext('2d');</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      ctx.fillStyle = "</span>blue<span class="string">";</span></span><br><span class="line"><span class="string">      ctx.arc(100, 50, 100, 0, Math.PI, false);</span></span><br><span class="line"><span class="string">      ctx.fill();</span></span><br><span class="line"><span class="string">    &lt;/script&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="绘制贝塞尔曲线"><a href="#绘制贝塞尔曲线" class="headerlink" title="绘制贝塞尔曲线"></a>绘制贝塞尔曲线</h4><ul>
<li>(二次cxt.quadraticCurveTo)/(三次cxt.bezierCurveTo)</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 二次贝塞尔曲线</span></span><br><span class="line"><span class="comment">// cxt.quadraticCurveTo(控制点 x, 控制点 y, 终点 x, 终点 y);</span></span><br><span class="line"></span><br><span class="line">cxt.beginPath();</span><br><span class="line">cxt.moveTo(<span class="number">300</span>,<span class="number">300</span>);</span><br><span class="line">cxt.quadraticCurveTo(<span class="number">200</span>,<span class="number">200</span>,<span class="number">300</span>,<span class="number">240</span>);</span><br><span class="line">cxt.stroke();</span><br><span class="line">cxt.moveTo(<span class="number">300</span>,<span class="number">300</span>);</span><br><span class="line">cxt.quadraticCurveTo(<span class="number">400</span>,<span class="number">200</span>,<span class="number">300</span>,<span class="number">240</span>);</span><br><span class="line">cxt.stroke();</span><br><span class="line">cxt.fillStyle = <span class="string">"#FF0000"</span>;</span><br><span class="line">cxt.fill();</span><br><span class="line">cxt.closePath();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 三次贝塞尔曲线</span></span><br><span class="line"><span class="comment">// cxt1.bezierCurveTo(控制点1x,控制点1y, 控制点2x, 控制点2y, 终点 x, 终点 y)</span></span><br><span class="line">cxt1.translate(<span class="number">150</span>,<span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">cxt1.beginPath();</span><br><span class="line">cxt1.moveTo(<span class="number">0</span>,<span class="number">100</span>);</span><br><span class="line">cxt1.bezierCurveTo(<span class="number">50</span>,<span class="number">70</span>,<span class="number">90</span>,<span class="number">120</span>,<span class="number">0</span>,<span class="number">200</span>);</span><br><span class="line">cxt1.stroke();</span><br><span class="line">cxt1.fillStyle = <span class="string">"#FF0000"</span>;</span><br><span class="line">cxt1.fill();</span><br><span class="line">cxt1.closePath();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 关于 y = 0 对称</span></span><br><span class="line"></span><br><span class="line">cxt1.beginPath();</span><br><span class="line">cxt1.moveTo(<span class="number">0</span>,<span class="number">100</span>);</span><br><span class="line">cxt1.bezierCurveTo(<span class="number">-50</span>,<span class="number">70</span>,<span class="number">-90</span>,<span class="number">120</span>,<span class="number">0</span>,<span class="number">200</span>);</span><br><span class="line">cxt1.stroke();</span><br><span class="line">cxt1.fillStyle = <span class="string">"#FF0000"</span>;</span><br><span class="line">cxt1.fill();</span><br><span class="line">cxt1.closePath();</span><br></pre></td></tr></table></figure>
<h4 id="绘制图片"><a href="#绘制图片" class="headerlink" title="绘制图片"></a>绘制图片</h4><ul>
<li>drawImage()</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>空地反弹<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span> <span class="attr">media</span>=<span class="string">"screen"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">		<span class="selector-id">#canvas</span> &#123;</span></span><br><span class="line"><span class="undefined">			border: 2px solid red;</span></span><br><span class="line"><span class="undefined">			display: block;</span></span><br><span class="line"><span class="undefined">			margin: 0 auto;</span></span><br><span class="line"><span class="undefined">		&#125;</span></span><br><span class="line"><span class="undefined">	</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"400"</span> <span class="attr">height</span>=<span class="string">"400"</span>&gt;</span></span><br><span class="line">		您的浏览器不支持 canvas! 太low了,赶快升级吧!</span><br><span class="line">	<span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./js/jquery-2.0.3.js"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> canvas = $(<span class="string">"#canvas"</span>);</span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> cxt = canvas.get(<span class="number">0</span>).getContext(<span class="string">"2d"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 1. drawImage(图片资源,开始点的 x, 开始点的 y);</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 		注意: 图像不会被压缩,完全显示在 canvas区域中</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> img = $(<span class="string">"&lt;img /&gt;"</span>);</span></span><br><span class="line"><span class="javascript">		img.prop(<span class="string">"src"</span>,<span class="string">"./img/bg2.jpg"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 注意:只有在图片加载完成之后,才能完成 canvas 的图片绘制</span></span></span><br><span class="line"><span class="javascript">		img.load(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="comment">// cxt.drawImage(this,0,0);</span></span></span><br><span class="line"><span class="undefined">		&#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 2. drawImage("资源",绘制图片的左上角 x, 绘制图片的左上角的 y, 绘制宽度,绘制高度);</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 		注意: 把图片绘制到指定的区域,图片会被压缩</span></span></span><br><span class="line"><span class="javascript">		img.load(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="comment">// cxt.drawImage(this,0,0,200,200);</span></span></span><br><span class="line"><span class="undefined">		&#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 3. drawImage("资源",图像起始 x, 图像起始 y, 图像的宽,图像的高,canvas 起始 x,canvas 起始 y,canvas 图像宽,canvas图像高);</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 		注意:</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		img.load(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">			cxt.drawImage(<span class="keyword">this</span>,<span class="number">100</span>,<span class="number">100</span>,<span class="number">100</span>,<span class="number">100</span>,<span class="number">200</span>,<span class="number">200</span>,<span class="number">100</span>,<span class="number">100</span>);</span></span><br><span class="line"><span class="undefined">		&#125;);</span></span><br><span class="line"><span class="undefined">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="绘制阴影"><a href="#绘制阴影" class="headerlink" title="绘制阴影"></a>绘制阴影</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas id=<span class="string">"canvas"</span> width=<span class="string">"300"</span> height=<span class="string">"300"</span>&gt;您的浏览器不支持canvas&lt;<span class="regexp">/canvas&gt;</span></span><br><span class="line"><span class="regexp">    &lt;script type="text/</span>javascript<span class="string">"&gt;</span></span><br><span class="line"><span class="string">      var canvas = document.getElementById("</span>canvas<span class="string">");</span></span><br><span class="line"><span class="string">      // 获得画布</span></span><br><span class="line"><span class="string">      var ctx = canvas.getContext("</span><span class="number">2</span>d<span class="string">");</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      //  阴影颜色</span></span><br><span class="line"><span class="string">      ctx.shadowColor = 'green';</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      // 阴影模糊级别</span></span><br><span class="line"><span class="string">      ctx.shadowBlur = 10;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      // 水平移动距离</span></span><br><span class="line"><span class="string">      ctx.shadowOffsetX = 10;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      // 垂直移动距离</span></span><br><span class="line"><span class="string">      ctx.shadowOffsetY = 10;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      // 填充颜色</span></span><br><span class="line"><span class="string">      ctx.fillStyle = 'red';</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      // 绘制填充矩形</span></span><br><span class="line"><span class="string">      ctx.fillRect(100,100,100,100);</span></span><br><span class="line"><span class="string">    &lt;/script&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="线性渐变"><a href="#线性渐变" class="headerlink" title="线性渐变"></a>线性渐变</h4><ul>
<li>createLinearGradient()</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 线性渐变 (起点 x, 起点 y, 终点 x,终点 y)</span></span><br><span class="line"><span class="keyword">var</span> circle = cxt.createLinearGradient(<span class="number">100</span>,<span class="number">200</span>,<span class="number">100</span>,<span class="number">500</span>);</span><br><span class="line">circle.addColorStop(<span class="number">0</span>, <span class="string">'#0f0'</span>);</span><br><span class="line"><span class="comment">//添加一个渐变颜色，第一个参数介于 0.0 与 1.0 之间的值，表示渐变中开始与结束之间的位置。</span></span><br><span class="line">circle.addColorStop(<span class="number">0.2</span>, <span class="string">'#0ff'</span>);</span><br><span class="line">circle.addColorStop(<span class="number">0.4</span>, <span class="string">'#f0f'</span>);</span><br><span class="line">circle.addColorStop(<span class="number">0.6</span>, <span class="string">'#0ff'</span>);</span><br><span class="line">circle.addColorStop(<span class="number">0.8</span>, <span class="string">'#f00'</span>);</span><br><span class="line">circle.addColorStop(<span class="number">1</span>, <span class="string">'#ff0'</span>);</span><br><span class="line"><span class="comment">//关键点，把渐变设置到 填充的样式</span></span><br><span class="line">cxt.fillStyle = circle ;</span><br><span class="line">cxt.fillRect(<span class="number">100</span>,<span class="number">200</span>,<span class="number">100</span>,<span class="number">300</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">var</span> circle1 = cxt.createLinearGradient(<span class="number">100</span>,<span class="number">200</span>,<span class="number">100</span>,<span class="number">500</span>);</span><br><span class="line">circle1.addColorStop(<span class="number">0.0</span>, <span class="string">'#0f0'</span>);</span><br><span class="line">circle1.addColorStop(<span class="number">0.2</span>, <span class="string">'#0f0'</span>);</span><br><span class="line">circle1.addColorStop(<span class="number">0.2</span>, <span class="string">'#f0f'</span>);</span><br><span class="line">circle1.addColorStop(<span class="number">0.4</span>, <span class="string">'#f0f'</span>);</span><br><span class="line">circle1.addColorStop(<span class="number">0.4</span>, <span class="string">'#0ff'</span>);</span><br><span class="line">circle1.addColorStop(<span class="number">0.6</span>, <span class="string">'#0ff'</span>);</span><br><span class="line">circle1.addColorStop(<span class="number">0.6</span>, <span class="string">'#f00'</span>);</span><br><span class="line">circle1.addColorStop(<span class="number">0.8</span>, <span class="string">'#f00'</span>);</span><br><span class="line">circle1.addColorStop(<span class="number">0.8</span>, <span class="string">'#ff0'</span>);</span><br><span class="line">circle1.addColorStop(<span class="number">1.0</span>, <span class="string">'#ff0'</span>);</span><br><span class="line"><span class="comment">//关键点，把渐变设置到 填充的样式</span></span><br><span class="line">cxt.fillStyle = circle1 ;</span><br><span class="line">cxt.fillRect(<span class="number">300</span>,<span class="number">200</span>,<span class="number">100</span>,<span class="number">300</span>);</span><br></pre></td></tr></table></figure>
<h4 id="径向渐变"><a href="#径向渐变" class="headerlink" title="径向渐变"></a>径向渐变</h4><ul>
<li>createRadialGradient()</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 径向渐变 (起始圆心 x, 起始圆心 y, 结束圆心 x,结束圆心 y,半径)</span></span><br><span class="line"><span class="keyword">var</span> circle = cxt.createRadialGradient(<span class="number">300</span>,<span class="number">300</span>,<span class="number">100</span>,<span class="number">300</span>,<span class="number">300</span>,<span class="number">300</span>);</span><br><span class="line">circle.addColorStop(<span class="number">0.0</span>, <span class="string">'#0f0'</span>);</span><br><span class="line">circle.addColorStop(<span class="number">0.2</span>, <span class="string">'#0f0'</span>);</span><br><span class="line">circle.addColorStop(<span class="number">0.2</span>, <span class="string">'#f0f'</span>);</span><br><span class="line">circle.addColorStop(<span class="number">0.4</span>, <span class="string">'#f0f'</span>);</span><br><span class="line">circle.addColorStop(<span class="number">0.4</span>, <span class="string">'#0ff'</span>);</span><br><span class="line">circle.addColorStop(<span class="number">0.6</span>, <span class="string">'#0ff'</span>);</span><br><span class="line">circle.addColorStop(<span class="number">0.6</span>, <span class="string">'#f00'</span>);</span><br><span class="line">circle.addColorStop(<span class="number">0.8</span>, <span class="string">'#f00'</span>);</span><br><span class="line">circle.addColorStop(<span class="number">0.8</span>, <span class="string">'#ff0'</span>);</span><br><span class="line">circle.addColorStop(<span class="number">1.0</span>, <span class="string">'#ff0'</span>);</span><br><span class="line"><span class="comment">//关键点，把渐变设置到 填充的样式</span></span><br><span class="line">cxt.fillStyle = circle ;</span><br><span class="line">cxt.fillRect(<span class="number">0</span>,<span class="number">0</span>,<span class="number">600</span>,<span class="number">600</span>);</span><br></pre></td></tr></table></figure>
<h4 id="画布缩放"><a href="#画布缩放" class="headerlink" title="画布缩放"></a>画布缩放</h4><ul>
<li>scale()</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas id=<span class="string">"canvas"</span> width=<span class="string">"300"</span> height=<span class="string">"300"</span>&gt;您的浏览器不支持canvas&lt;<span class="regexp">/canvas&gt;</span></span><br><span class="line"><span class="regexp">    &lt;script type="text/</span>javascript<span class="string">"&gt;</span></span><br><span class="line"><span class="string">      var canvas = document.getElementById("</span>canvas<span class="string">");</span></span><br><span class="line"><span class="string">      var ctx = canvas.getContext("</span><span class="number">2</span>d<span class="string">");</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      ctx.strokeStyle = "</span>red<span class="string">";</span></span><br><span class="line"><span class="string">      ctx.lineWidth = 4;</span></span><br><span class="line"><span class="string">      ctx.strokeRect(0,0,100,100);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      ctx.scale(2,2);</span></span><br><span class="line"><span class="string">      ctx.strokeRect(0,0,100,100);</span></span><br><span class="line"><span class="string">      ctx.strokeRect(100,100,10,10);</span></span><br><span class="line"><span class="string">    &lt;/script&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="画布原点的移动"><a href="#画布原点的移动" class="headerlink" title="画布原点的移动"></a>画布原点的移动</h4><ul>
<li>translate()</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas id=<span class="string">"canvas"</span> width=<span class="string">"300"</span> height=<span class="string">"300"</span>&gt;您的浏览器不支持canvas&lt;<span class="regexp">/canvas&gt;</span></span><br><span class="line"><span class="regexp">    &lt;script type="text/</span>javascript<span class="string">"&gt;</span></span><br><span class="line"><span class="string">      var canvas = document.getElementById("</span>canvas<span class="string">");</span></span><br><span class="line"><span class="string">      var ctx = canvas.getContext("</span><span class="number">2</span>d<span class="string">");</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      ctx.translate(100,100);</span></span><br><span class="line"><span class="string">      ctx.strokeStyle = "</span>red<span class="string">";</span></span><br><span class="line"><span class="string">      ctx.lineWidth = 4;</span></span><br><span class="line"><span class="string">      ctx.strokeRect(10,10,100,100);</span></span><br><span class="line"><span class="string">    &lt;/script&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="画布旋转"><a href="#画布旋转" class="headerlink" title="画布旋转"></a>画布旋转</h4><ul>
<li>rotate()</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas id=<span class="string">"canvas"</span> width=<span class="string">"500"</span> height=<span class="string">"500"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span></span><br><span class="line">    &lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">      <span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"canvas"</span>);</span><br><span class="line">      <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line">      <span class="comment">// 旋转 20度</span></span><br><span class="line">      ctx.rotate( <span class="number">20</span> * <span class="built_in">Math</span>.PI / <span class="number">180</span>);</span><br><span class="line">      <span class="comment">// 设置画布填充颜色为红色</span></span><br><span class="line">      ctx.fillStyle = <span class="string">"red"</span>;</span><br><span class="line">      <span class="comment">// 绘制矩形</span></span><br><span class="line">      ctx.fillRect(<span class="number">300</span>,<span class="number">0</span>,<span class="number">200</span>,<span class="number">200</span>);</span><br><span class="line">      <span class="comment">// 填充颜色</span></span><br><span class="line">      ctx.fill();</span><br><span class="line">    &lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="画布状态保存和恢复"><a href="#画布状态保存和恢复" class="headerlink" title="画布状态保存和恢复"></a>画布状态保存和恢复</h4><ul>
<li>save() 和 restore()</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas id=<span class="string">"canvas"</span> width=<span class="string">"300"</span> height=<span class="string">"300"</span>&gt;您的浏览器不支持canvas&lt;<span class="regexp">/canvas&gt;</span></span><br><span class="line"><span class="regexp">    &lt;script type="text/</span>javascript<span class="string">"&gt;</span></span><br><span class="line"><span class="string">      var canvas = document.getElementById("</span>canvas<span class="string">");</span></span><br><span class="line"><span class="string">      // 获得画布</span></span><br><span class="line"><span class="string">      var ctx = canvas.getContext("</span><span class="number">2</span>d<span class="string">");</span></span><br><span class="line"><span class="string">      //</span></span><br><span class="line"><span class="string">      ctx.strokeStyle = "</span>red<span class="string">";</span></span><br><span class="line"><span class="string">      ctx.strokeRect(0,0,100,100);</span></span><br><span class="line"><span class="string">      // 保存状态</span></span><br><span class="line"><span class="string">      ctx.save();</span></span><br><span class="line"><span class="string">      ctx.scale(2,2);</span></span><br><span class="line"><span class="string">      ctx.strokeRect(0,0,100,100);</span></span><br><span class="line"><span class="string">      // 恢复到没有放大的状态</span></span><br><span class="line"><span class="string">      ctx.restore();</span></span><br><span class="line"><span class="string">      ctx.strokeRect(100,100,50,50);</span></span><br><span class="line"><span class="string">    &lt;/script&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="画布保存为图片"><a href="#画布保存为图片" class="headerlink" title="画布保存为图片"></a>画布保存为图片</h4><ul>
<li>canvas.toDataURL()</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas id=<span class="string">"canvas"</span> width=<span class="string">"300"</span> height=<span class="string">"300"</span>&gt;您的浏览器不支持canvas&lt;<span class="regexp">/canvas&gt;</span></span><br><span class="line"><span class="regexp">    &lt;script type="text/</span>javascript<span class="string">"&gt;</span></span><br><span class="line"><span class="string">      var canvas = document.getElementById("</span>canvas<span class="string">");</span></span><br><span class="line"><span class="string">      // 获得画布</span></span><br><span class="line"><span class="string">      var ctx = canvas.getContext("</span><span class="number">2</span>d<span class="string">");</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      ctx.fillStyle = "</span>red<span class="string">";</span></span><br><span class="line"><span class="string">      ctx.fillRect(10,10,100,100);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      // 将画布导出为图片</span></span><br><span class="line"><span class="string">      var img1 = canvas.toDataURL('image/png',1);</span></span><br><span class="line"><span class="string">      // base64 编码格式的图片</span></span><br><span class="line"><span class="string">      console.log(img1);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      var str = new Image();</span></span><br><span class="line"><span class="string">      str.src = img1;</span></span><br><span class="line"><span class="string">      document.body.appendChild(str);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      /*</span></span><br><span class="line"><span class="string">        base64 格式的图片的优缺点</span></span><br><span class="line"><span class="string">        优点:将图片转换为字符串，不用发送http请求，减少去请求的数量，减轻服务器端的压力</span></span><br><span class="line"><span class="string">        缺点:转换之后体积会变大</span></span><br><span class="line"><span class="string">        应用场景: 图片体积很小的时候可以使用</span></span><br><span class="line"><span class="string">      */</span></span><br><span class="line"><span class="string">    &lt;/script&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="画布透明"><a href="#画布透明" class="headerlink" title="画布透明"></a>画布透明</h4><ul>
<li>cxt.globalAlpha</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas id=<span class="string">"canvas"</span> width=<span class="string">"300"</span> height=<span class="string">"300"</span>&gt;您的浏览器不支持canvas&lt;<span class="regexp">/canvas&gt; </span></span><br><span class="line"><span class="regexp">    &lt;script type="text/</span>javascript<span class="string">"&gt;</span></span><br><span class="line"><span class="string">      var canvas = document.getElementById("</span>canvas<span class="string">");</span></span><br><span class="line"><span class="string">      var ctx = canvas.getContext("</span><span class="number">2</span>d<span class="string">");</span></span><br><span class="line"><span class="string">      // 第一块 黄色</span></span><br><span class="line"><span class="string">      ctx.fillStyle = '#FD0';</span></span><br><span class="line"><span class="string">      ctx.fillRect(0,0,75,75);</span></span><br><span class="line"><span class="string">      // 第二块 绿色</span></span><br><span class="line"><span class="string">      ctx.fillStyle = '#6C0';</span></span><br><span class="line"><span class="string">      ctx.fillRect(75,0,75,75);</span></span><br><span class="line"><span class="string">      // 第三块 蓝色</span></span><br><span class="line"><span class="string">      ctx.fillStyle = '#09F';</span></span><br><span class="line"><span class="string">      ctx.fillRect(0,75,75,75);</span></span><br><span class="line"><span class="string">      // 第四块 红色</span></span><br><span class="line"><span class="string">      ctx.fillStyle = '#F30';</span></span><br><span class="line"><span class="string">      ctx.fillRect(75,75,75,75);</span></span><br><span class="line"><span class="string">      ctx.fillStyle = '#fff';</span></span><br><span class="line"><span class="string">      ctx.globalAlpha = 0.2;</span></span><br><span class="line"><span class="string">      for (i=0;i&lt;7;i++)&#123;</span></span><br><span class="line"><span class="string">        ctx.beginPath();</span></span><br><span class="line"><span class="string">        // 原点坐标 75 75  半径 相差10</span></span><br><span class="line"><span class="string">        ctx.arc(75,75,10+10*i,0,Math.PI*2,false);</span></span><br><span class="line"><span class="string">        ctx.fill();</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &lt;/script&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="画布裁剪"><a href="#画布裁剪" class="headerlink" title="画布裁剪"></a>画布裁剪</h4><ul>
<li>cxt.clip()</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas id=<span class="string">"canvas"</span> width=<span class="string">"300"</span> height=<span class="string">"300"</span>&gt;您的浏览器不支持canvas&lt;<span class="regexp">/canvas&gt;</span></span><br><span class="line"><span class="regexp">    &lt;script type="text/</span>javascript<span class="string">"&gt;</span></span><br><span class="line"><span class="string">      var canvas = document.getElementById("</span>canvas<span class="string">");</span></span><br><span class="line"><span class="string">      var ctx = canvas.getContext("</span><span class="number">2</span>d<span class="string">");</span></span><br><span class="line"><span class="string">      // 绘制圆</span></span><br><span class="line"><span class="string">      ctx.strokeStyle = "</span>red<span class="string">";</span></span><br><span class="line"><span class="string">      ctx.arc(100,100,100,0,Math.PI * 2,false);</span></span><br><span class="line"><span class="string">      ctx.stroke();</span></span><br><span class="line"><span class="string">      // 画布裁剪</span></span><br><span class="line"><span class="string">      ctx.clip();</span></span><br><span class="line"><span class="string">      // 绘制矩形</span></span><br><span class="line"><span class="string">      ctx.fillStyle = "</span>green<span class="string">";</span></span><br><span class="line"><span class="string">      ctx.fillRect(0,0,100,100);</span></span><br><span class="line"><span class="string">    &lt;/script&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="画布渲染画布"><a href="#画布渲染画布" class="headerlink" title="画布渲染画布"></a>画布渲染画布</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"draw"</span>&gt;将画布<span class="number">1</span>上的部分区域显示到画布<span class="number">2</span>上&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;canvas id="canvas-1" width="234" height="300"&gt;&lt;/</span>canvas&gt;</span><br><span class="line">    &lt;canvas id=<span class="string">"canvas-2"</span> width=<span class="string">"468"</span> height=<span class="string">"600"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">    &lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">      <span class="keyword">var</span> draw = <span class="built_in">document</span>.getElementById(<span class="string">"draw"</span>);</span><br><span class="line">      <span class="keyword">var</span> canvas1 = <span class="built_in">document</span>.getElementById(<span class="string">"canvas-1"</span>);</span><br><span class="line">      <span class="keyword">var</span> canvas2 = <span class="built_in">document</span>.getElementById(<span class="string">"canvas-2"</span>);</span><br><span class="line"></span><br><span class="line">      canvas1.style.border = <span class="string">"1px solid red"</span>;</span><br><span class="line">      canvas2.style.border = <span class="string">"1px solid red"</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> ctx1 = canvas1.getContext(<span class="string">"2d"</span>);</span><br><span class="line">      <span class="keyword">var</span> ctx2 = canvas2.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 绘制图片</span></span><br><span class="line">      <span class="keyword">var</span> img = <span class="keyword">new</span> Image();</span><br><span class="line">      img.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 图片加载完毕之后，绘制到ctx1上</span></span><br><span class="line">        ctx1.drawImage(img,<span class="number">0</span>,<span class="number">0</span>,<span class="number">234</span>,<span class="number">300</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      img.src = <span class="string">"./mi.jpg"</span>;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 将画布1上的部分区域显示到画布2上</span></span><br><span class="line">      draw.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        ctx2.drawImage(canvas1, <span class="number">67</span>, <span class="number">71</span>, <span class="number">110</span>, <span class="number">50</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">110</span>*<span class="number">2</span>, <span class="number">50</span>*<span class="number">2</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="视频播放"><a href="#视频播放" class="headerlink" title="视频播放"></a>视频播放</h4><ul>
<li>video.oncanplay</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>视频播放<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">			<span class="selector-id">#canvas</span> &#123;</span></span><br><span class="line"><span class="undefined">				border: 2px solid red;</span></span><br><span class="line"><span class="undefined">				display: block;</span></span><br><span class="line"><span class="undefined">				margin: 0 auto;</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="undefined">			video &#123;</span></span><br><span class="line"><span class="undefined">				display: none;</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="undefined">		</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"600"</span> <span class="attr">height</span>=<span class="string">"400"</span>&gt;</span></span><br><span class="line">			你的浏览器不支持canvas!</span><br><span class="line">		<span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">video</span> <span class="attr">id</span>=<span class="string">"vplay"</span> <span class="attr">width</span>=<span class="string">"600"</span> <span class="attr">height</span>=<span class="string">"400"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"./video/1.mp4"</span> <span class="attr">type</span>=<span class="string">"video/mp4"</span>&gt;</span><span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"canvas"</span>);</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> cxt = canvas.getContext(<span class="string">"2d"</span>);</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> video = <span class="built_in">document</span>.getElementById(<span class="string">"vplay"</span>);</span></span><br><span class="line"><span class="javascript">			<span class="comment">// canvas 视频播放就像电影胶片一样,把视频整理成一张张生动的图片,</span></span></span><br><span class="line"><span class="javascript">			<span class="comment">// 然后使用绘图方法循环绘制到 canvas 中,形成动画效果</span></span></span><br><span class="line"><span class="javascript">			<span class="comment">// 只有在视频加载完成之后,才能播放</span></span></span><br><span class="line"><span class="javascript">			<span class="comment">// video.oncanplay 视频加载完成播放</span></span></span><br><span class="line"><span class="javascript">			video.oncanplay = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				<span class="comment">// 播放视频</span></span></span><br><span class="line"><span class="undefined">				video.play();</span></span><br><span class="line"><span class="javascript">				<span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">					cxt.clearRect(0,0,600,400);</span></span><br><span class="line"><span class="undefined">					cxt.drawImage(video,0,0,600,400);</span></span><br><span class="line"><span class="javascript">					<span class="built_in">window</span>.requestAnimationFrame(move);</span></span><br><span class="line"><span class="undefined">				&#125;</span></span><br><span class="line"><span class="undefined">				move();</span></span><br><span class="line"><span class="undefined">			&#125;;</span></span><br><span class="line"><span class="undefined">		</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><h4 id="空地反弹"><a href="#空地反弹" class="headerlink" title="空地反弹"></a>空地反弹</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>空地反弹<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span> <span class="attr">media</span>=<span class="string">"screen"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">		<span class="selector-id">#canvas</span> &#123;</span></span><br><span class="line"><span class="undefined">			border: 2px solid red;</span></span><br><span class="line"><span class="undefined">			display: block;</span></span><br><span class="line"><span class="undefined">			margin: 0 auto;</span></span><br><span class="line"><span class="undefined">		&#125;</span></span><br><span class="line"><span class="undefined">	</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"600"</span> <span class="attr">height</span>=<span class="string">"600"</span>&gt;</span></span><br><span class="line">		您的浏览器不支持 canvas! 太low了,赶快升级吧!</span><br><span class="line">	<span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./js/jquery.min.js"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> myCan = $(<span class="string">"#canvas"</span>);</span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> cxt = myCan.get(<span class="number">0</span>).getContext(<span class="string">"2d"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 设置 Ball 构造函数</span></span></span><br><span class="line"><span class="javascript">		<span class="function"><span class="keyword">function</span> <span class="title">Ball</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="keyword">this</span>.r = ranNum(<span class="number">5</span>,<span class="number">20</span>);</span></span><br><span class="line"><span class="javascript">			<span class="keyword">this</span>.x = ranNum(<span class="keyword">this</span>.r,myCan.width() - <span class="keyword">this</span>.r);</span></span><br><span class="line"><span class="javascript">			<span class="keyword">this</span>.y = ranNum(<span class="keyword">this</span>.r,myCan.height() - <span class="keyword">this</span>.r);</span></span><br><span class="line"><span class="javascript">			<span class="keyword">this</span>.color = <span class="string">"rgb("</span>+ ranNum(<span class="number">0</span>,<span class="number">255</span>) +<span class="string">","</span>+ ranNum(<span class="number">0</span>,<span class="number">255</span>) +<span class="string">","</span>+ ranNum(<span class="number">0</span>,<span class="number">255</span>) +<span class="string">")"</span>;</span></span><br><span class="line"><span class="javascript">			<span class="keyword">this</span>.speedX = ranNum(<span class="number">2</span>,<span class="number">10</span>) * (ranNum(<span class="number">0</span>,<span class="number">1</span>) ? <span class="number">1</span> : <span class="number">-1</span>);</span></span><br><span class="line"><span class="javascript">			<span class="keyword">this</span>.speedY = ranNum(<span class="number">2</span>,<span class="number">10</span>) * (ranNum(<span class="number">0</span>,<span class="number">1</span>) ? <span class="number">1</span> : <span class="number">-1</span>);</span></span><br><span class="line"><span class="undefined">		&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 添加方法</span></span></span><br><span class="line"><span class="undefined">		Ball.prototype = &#123;</span></span><br><span class="line"><span class="javascript">			<span class="comment">// 绘制</span></span></span><br><span class="line"><span class="javascript">			draw:<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">				cxt.beginPath();</span></span><br><span class="line"><span class="javascript">				cxt.arc(<span class="keyword">this</span>.x , <span class="keyword">this</span>.y , <span class="keyword">this</span>.r , <span class="number">0</span> , <span class="built_in">Math</span>.PI * <span class="number">2</span> ,<span class="literal">false</span>);</span></span><br><span class="line"><span class="javascript">				cxt.fillStyle = <span class="keyword">this</span>.color;</span></span><br><span class="line"><span class="undefined">				cxt.fill();</span></span><br><span class="line"><span class="undefined">				cxt.closePath();</span></span><br><span class="line"><span class="undefined">			&#125;,</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">			<span class="comment">// 移动</span></span></span><br><span class="line"><span class="javascript">			move:<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">				<span class="keyword">this</span>.x += <span class="keyword">this</span>.speedX;</span></span><br><span class="line"><span class="javascript">				<span class="keyword">this</span>.y += <span class="keyword">this</span>.speedY;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">				<span class="comment">// 碰左</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">if</span> (<span class="keyword">this</span>.x &lt;= <span class="keyword">this</span>.r) &#123;</span></span><br><span class="line"><span class="javascript">					<span class="keyword">this</span>.x = <span class="keyword">this</span>.r;</span></span><br><span class="line"><span class="javascript">					<span class="keyword">this</span>.speedX *= <span class="number">-1</span>;</span></span><br><span class="line"><span class="javascript">					<span class="comment">// this.speedY *= -1;</span></span></span><br><span class="line"><span class="undefined">				&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">				<span class="comment">// 碰右</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">if</span> (<span class="keyword">this</span>.x &gt;= myCan.width() - <span class="keyword">this</span>.r) &#123;</span></span><br><span class="line"><span class="javascript">					<span class="keyword">this</span>.x = myCan.width() - <span class="keyword">this</span>.r;</span></span><br><span class="line"><span class="javascript">					<span class="keyword">this</span>.speedX *= <span class="number">-1</span>;</span></span><br><span class="line"><span class="javascript">					<span class="comment">// this.speedY *= -1;</span></span></span><br><span class="line"><span class="undefined">				&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">				<span class="comment">// 碰上</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">if</span> (<span class="keyword">this</span>.y &lt;= <span class="keyword">this</span>.r) &#123;</span></span><br><span class="line"><span class="javascript">					<span class="keyword">this</span>.y = <span class="keyword">this</span>.r;</span></span><br><span class="line"><span class="javascript">					<span class="comment">// this.speedX *= -1;</span></span></span><br><span class="line"><span class="javascript">					<span class="keyword">this</span>.speedY *= <span class="number">-1</span>;</span></span><br><span class="line"><span class="undefined">				&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">				<span class="comment">// 碰下</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">if</span> (<span class="keyword">this</span>.y &gt;= myCan.height() - <span class="keyword">this</span>.r) &#123;</span></span><br><span class="line"><span class="javascript">					<span class="keyword">this</span>.y = myCan.height() - <span class="keyword">this</span>.r;</span></span><br><span class="line"><span class="javascript">					<span class="comment">// this.speedX *= -1;</span></span></span><br><span class="line"><span class="javascript">					<span class="keyword">this</span>.speedY *= <span class="number">-1</span>;</span></span><br><span class="line"><span class="undefined">				&#125;</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="undefined">		&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 创建小球</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> balls = [];</span></span><br><span class="line"><span class="javascript">		myCan.get(<span class="number">0</span>).onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> ball = <span class="keyword">new</span> Ball();</span></span><br><span class="line"><span class="undefined">			balls.push(ball);</span></span><br><span class="line"><span class="undefined">		&#125;</span></span><br><span class="line"><span class="javascript">		<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> ball = <span class="keyword">new</span> Ball();</span></span><br><span class="line"><span class="undefined">			balls.push(ball);</span></span><br><span class="line"><span class="undefined">		&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 小球运动</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> timeId = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">			cxt.clearRect(0,0,myCan.width(),myCan.height());</span></span><br><span class="line"><span class="javascript">			<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; balls.length; i++) &#123;</span></span><br><span class="line"><span class="undefined">				balls[i].draw();</span></span><br><span class="line"><span class="undefined">				balls[i].move();</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="undefined">		&#125;,15);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 随机数</span></span></span><br><span class="line"><span class="javascript">		<span class="function"><span class="keyword">function</span> <span class="title">ranNum</span>(<span class="params">a, b</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> max = <span class="built_in">Math</span>.max(a, b);</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> min = <span class="built_in">Math</span>.min(a, b);</span></span><br><span class="line"><span class="javascript">			<span class="keyword">return</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (max - min + <span class="number">1</span>) + min);</span></span><br><span class="line"><span class="undefined">		&#125;</span></span><br><span class="line"><span class="undefined">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="碰撞检测"><a href="#碰撞检测" class="headerlink" title="碰撞检测"></a>碰撞检测</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>碰撞检测<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">		* &#123;</span></span><br><span class="line"><span class="undefined">			margin: 0;</span></span><br><span class="line"><span class="undefined">			padding: 0;</span></span><br><span class="line"><span class="undefined">		&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">		<span class="selector-id">#wp</span> &#123;</span></span><br><span class="line"><span class="undefined">			width: 600px;</span></span><br><span class="line"><span class="undefined">			height: 500px;</span></span><br><span class="line"><span class="undefined">			border: 1px solid;</span></span><br><span class="line"><span class="undefined">			position: relative;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">		&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">		<span class="selector-id">#box</span> &#123;</span></span><br><span class="line"><span class="undefined">			width: 50px;</span></span><br><span class="line"><span class="undefined">			height: 50px;</span></span><br><span class="line"><span class="undefined">			background: red;</span></span><br><span class="line"><span class="undefined">			position: absolute;</span></span><br><span class="line"><span class="undefined">			border-radius: 50%;</span></span><br><span class="line"><span class="undefined">		&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">		<span class="selector-id">#box2</span> &#123;</span></span><br><span class="line"><span class="undefined">			width: 100px;</span></span><br><span class="line"><span class="undefined">			height: 100px;</span></span><br><span class="line"><span class="undefined">			background: orange;</span></span><br><span class="line"><span class="undefined">			position: absolute;</span></span><br><span class="line"><span class="undefined">			top: 150px;</span></span><br><span class="line"><span class="undefined">			left: 250px;</span></span><br><span class="line"><span class="undefined">		&#125;</span></span><br><span class="line"><span class="undefined">	</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"wp"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> wp = <span class="built_in">document</span>.getElementById(<span class="string">'wp'</span>);</span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> box = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>);</span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> box2 = <span class="built_in">document</span>.getElementById(<span class="string">'box2'</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> bl = box.offsetLeft;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> bt = box.offsetTop;</span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> bv = <span class="number">1</span>;</span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> bv2 = <span class="number">1</span>;</span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> aa;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">			<span class="keyword">if</span> (bl &gt;= (wp.clientWidth - box.offsetWidth) || bl &lt; <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="undefined">				bv *= -1;</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="javascript">			<span class="keyword">if</span> (bt &gt;= (wp.clientHeight - box.offsetHeight) || bt &lt; <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="undefined">				bv2 *= -1;</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">			<span class="comment">//左上角，右上角，左下角，右下角</span></span></span><br><span class="line"><span class="javascript">			<span class="keyword">if</span> (!(bl == box2.offsetLeft - box.offsetWidth &amp;&amp; bt == box2.offsetTop - box.offsetHeight || bl == box2.offsetLeft + box2.offsetWidth &amp;&amp; bt == box2.offsetTop - box.offsetHeight || bl == box2.offsetLeft - box.offsetWidth &amp;&amp; bt == box2.offsetTop +</span></span><br><span class="line"><span class="undefined">					box2.offsetHeight || bl == box2.offsetLeft + box2.offsetWidth &amp;&amp; bt == box2.offsetTop + box2.offsetHeight)) &#123;</span></span><br><span class="line"><span class="javascript">				<span class="keyword">if</span> (bl &gt; (box2.offsetLeft - box.offsetWidth) &amp;&amp; bl &lt; box2.offsetLeft + box2.offsetWidth &amp;&amp; bt &gt; (box2.offsetTop - box.offsetWidth) &amp;&amp; bt &lt; (box2.offsetTop + box2.offsetHeight)) &#123;</span></span><br><span class="line"><span class="undefined">					bv *= -1;</span></span><br><span class="line"><span class="undefined">					bv2 *= -1;</span></span><br><span class="line"><span class="undefined">				&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">				<span class="comment">// 左侧</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">else</span> <span class="keyword">if</span> (bl == (box2.offsetLeft - box.offsetWidth) &amp;&amp; bt &gt;= (box2.offsetTop - box.offsetWidth) &amp;&amp; bt &lt;= (box2.offsetTop + box2.offsetHeight)) &#123;</span></span><br><span class="line"><span class="undefined">					bv *= -1;</span></span><br><span class="line"><span class="undefined">				&#125;</span></span><br><span class="line"><span class="javascript">				<span class="comment">// 上侧</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">else</span> <span class="keyword">if</span> (bt == (box2.offsetTop - box.offsetHeight) &amp;&amp; bl &gt;= (box2.offsetLeft - box.offsetWidth) &amp;&amp; bl &lt;= box2.offsetLeft + box2.offsetWidth) &#123;</span></span><br><span class="line"><span class="undefined">					bv2 *= -1</span></span><br><span class="line"><span class="undefined">				&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">				<span class="comment">// 右侧</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">else</span> <span class="keyword">if</span> (bl == (box2.offsetLeft + box2.offsetWidth) &amp;&amp; bt &gt;= (box2.offsetTop - box.offsetWidth) &amp;&amp; bt &lt;= (box2.offsetTop + box2.offsetHeight)) &#123;</span></span><br><span class="line"><span class="undefined">					bv *= -1;</span></span><br><span class="line"><span class="undefined">				&#125;</span></span><br><span class="line"><span class="javascript">				<span class="comment">// 下侧</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">else</span> <span class="keyword">if</span> (bt == (box2.offsetTop + box2.offsetHeight) &amp;&amp; bl &gt;= (box2.offsetLeft - box.offsetWidth) &amp;&amp; bl &lt;= box2.offsetLeft + box2.offsetWidth) &#123;</span></span><br><span class="line"><span class="undefined">					bv2 *= -1</span></span><br><span class="line"><span class="undefined">				&#125;</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">			bl += bv;</span></span><br><span class="line"><span class="undefined">			bt += bv2;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">			box.style.left = bl + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">			box.style.top = bt + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="undefined">		&#125;, 10)</span></span><br><span class="line"><span class="undefined">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="图像合并"><a href="#图像合并" class="headerlink" title="图像合并"></a>图像合并</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>图像合并<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span> <span class="attr">media</span>=<span class="string">"screen"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">		<span class="selector-id">#canvas</span> &#123;</span></span><br><span class="line"><span class="undefined">			border: 2px solid red;</span></span><br><span class="line"><span class="undefined">			display: block;</span></span><br><span class="line"><span class="undefined">			margin: 0 auto;</span></span><br><span class="line"><span class="undefined">		&#125;</span></span><br><span class="line"><span class="undefined">	</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"600"</span> <span class="attr">height</span>=<span class="string">"600"</span>&gt;</span></span><br><span class="line">		您的浏览器不支持 canvas! 太low了,赶快升级吧!</span><br><span class="line">	<span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"canvas"</span>);</span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> cxt = canvas.getContext(<span class="string">"2d"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="comment">// cxt.globalCompositionOperation() 合并图像属性</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// source-over:默认值,表示新图在老图上面</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// source-in:保留新老图的重合部分,其他部分清空,新图在上面</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// source-out:保留 新图中 新图和老图 的 非 重合部分,其他全部清空</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// source-atop:保存老图 和 新图与老图的重叠部分,新图在上,其他全部清空</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="comment">// destination-over:保留新图和老图,老图在上</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// destination-in:保留新老图的重合部分,其他部分清空,老图在上面</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// destination-out:保留 老图中 新图和老图 的 非 重合部分,其他全部清空</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// destination-atop:保存新图 和 新图与老图的重叠部分,老图在上,其他全部清空</span></span></span><br><span class="line"><span class="undefined">		cxt.beginPath();</span></span><br><span class="line"><span class="javascript">		cxt.fillStyle = <span class="string">"#f00"</span>;</span></span><br><span class="line"><span class="undefined">		cxt.fillRect(100,100,200,200);</span></span><br><span class="line"><span class="undefined">		cxt.closePath();</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		cxt.globalCompositeOperation = <span class="string">"destination-atop"</span>;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">		cxt.beginPath();</span></span><br><span class="line"><span class="javascript">		cxt.fillStyle = <span class="string">"#ff0"</span>;</span></span><br><span class="line"><span class="undefined">		cxt.fillRect(200,200,200,200);</span></span><br><span class="line"><span class="undefined">		cxt.closePath();</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="comment">// copy:只保留新图,其他清空</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// lighter:贤显示新图和老图</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// xor:保留新图和老图之间的非重叠部分</span></span></span><br><span class="line"><span class="undefined">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="制作房产证"><a href="#制作房产证" class="headerlink" title="制作房产证"></a>制作房产证</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>制作房产证<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span> <span class="attr">media</span>=<span class="string">"screen"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">	 	* &#123;</span></span><br><span class="line"><span class="undefined">	 		margin: 0;</span></span><br><span class="line"><span class="undefined">			padding: 0;</span></span><br><span class="line"><span class="undefined">	 	&#125;</span></span><br><span class="line"><span class="css">		<span class="selector-class">.wrap</span> &#123;</span></span><br><span class="line"><span class="undefined">			padding-top: 20px;</span></span><br><span class="line"><span class="undefined">			text-align: center;</span></span><br><span class="line"><span class="undefined">		&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">		<span class="selector-id">#canvas</span> &#123;</span></span><br><span class="line"><span class="undefined">			border: 2px solid red;</span></span><br><span class="line"><span class="undefined">			display: block;</span></span><br><span class="line"><span class="undefined">			margin: 0 auto;</span></span><br><span class="line"><span class="undefined">		&#125;</span></span><br><span class="line"><span class="undefined">	</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"getName"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"btn1"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">"提交"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"btn2"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">"导出"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"549"</span> <span class="attr">height</span>=<span class="string">"412"</span>&gt;</span></span><br><span class="line">			您的浏览器不支持 canvas!</span><br><span class="line">		<span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./js/jquery-2.0.3.js"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'canvas'</span>);</span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> cxt = canvas.getContext(<span class="string">"2d"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		$(<span class="string">"&lt;img/&gt;"</span>).prop(<span class="string">"src"</span>,<span class="string">"./img/bg3.jpg"</span>).load(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">			cxt.drawImage(<span class="keyword">this</span>,<span class="number">0</span>,<span class="number">0</span>);</span></span><br><span class="line"><span class="undefined">		&#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		$(<span class="string">"#btn1"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> value = $.trim($(<span class="string">"#getName"</span>).val());</span></span><br><span class="line"><span class="javascript">			<span class="keyword">if</span> (value!=<span class="string">""</span>) &#123;</span></span><br><span class="line"><span class="undefined">				cxt.beginPath();</span></span><br><span class="line"><span class="javascript">				cxt.font = <span class="string">"20px '宋体'"</span>;</span></span><br><span class="line"><span class="javascript">	     		cxt.textAlign = <span class="string">"center"</span>;</span></span><br><span class="line"><span class="javascript">				cxt.fillStyle = <span class="string">"#555"</span>;</span></span><br><span class="line"><span class="undefined">				cxt.fillText(value,230,125);</span></span><br><span class="line"><span class="undefined">				cxt.closePath();</span></span><br><span class="line"><span class="javascript">			&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">				alert(<span class="string">"请输入姓名!"</span>);</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="undefined">		&#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		$(<span class="string">"#btn2"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="comment">// canvas中的图片存储在 URL中,并且进行了 base64 转码</span></span></span><br><span class="line"><span class="javascript">			<span class="comment">// cxt.toDataURL(图片格式,压缩比例) 参数都是可选,默认为 img, 比例为0.92</span></span></span><br><span class="line"><span class="javascript">			<span class="comment">// 压缩比例在 0-1之间</span></span></span><br><span class="line"><span class="javascript">			<span class="comment">// 图片类型: image/web image/jpeg</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">			<span class="comment">// 注意:保存图片的时候尽量保存在服务器上</span></span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> imgURL = canvas.toDataURL(<span class="string">'image/png'</span>,<span class="number">0.5</span>);</span></span><br><span class="line"><span class="javascript">			<span class="built_in">console</span>.log(imgURL);</span></span><br><span class="line"><span class="javascript">			<span class="built_in">window</span>.open(imgURL,<span class="string">'_blank'</span>);</span></span><br><span class="line"><span class="undefined">		&#125;);</span></span><br><span class="line"><span class="undefined">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="刮刮乐"><a href="#刮刮乐" class="headerlink" title="刮刮乐"></a>刮刮乐</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>刮刮乐<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span> <span class="attr">media</span>=<span class="string">"screen"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">	 	* &#123;</span></span><br><span class="line"><span class="undefined">	 		margin: 0;</span></span><br><span class="line"><span class="undefined">			padding: 0;</span></span><br><span class="line"><span class="undefined">	 	&#125;</span></span><br><span class="line"><span class="css">		<span class="selector-class">.wrap</span> &#123;</span></span><br><span class="line"><span class="undefined">			width: 320px;</span></span><br><span class="line"><span class="undefined">			height: 568px;</span></span><br><span class="line"><span class="undefined">			margin: 0 auto;</span></span><br><span class="line"><span class="undefined">			background: url("./img/bg.png") no-repeat;</span></span><br><span class="line"><span class="undefined">			background-size: 100% 100%;</span></span><br><span class="line"><span class="undefined">			display: block;</span></span><br><span class="line"><span class="undefined">			position: relative;</span></span><br><span class="line"><span class="undefined">		&#125;</span></span><br><span class="line"><span class="css">		<span class="selector-class">.wrap</span> <span class="selector-tag">p</span> ,</span></span><br><span class="line"><span class="css">		<span class="selector-id">#canvas</span>&#123;</span></span><br><span class="line"><span class="undefined">			position: absolute;</span></span><br><span class="line"><span class="undefined">			top: 190px;</span></span><br><span class="line"><span class="undefined">			left: 28px;</span></span><br><span class="line"><span class="undefined">		&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">		<span class="selector-class">.wrap</span> <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="undefined">			font-size: 30px;</span></span><br><span class="line"><span class="undefined">			text-align: center;</span></span><br><span class="line"><span class="undefined">			line-height: 134px;</span></span><br><span class="line"><span class="undefined">			height: 134px;</span></span><br><span class="line"><span class="undefined">			width: 263px;</span></span><br><span class="line"><span class="undefined">		&#125;</span></span><br><span class="line"><span class="undefined">	</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"263"</span> <span class="attr">height</span>=<span class="string">"134"</span>&gt;</span></span><br><span class="line">			您的浏览器不支持 canvas! 太low了,赶快升级吧!</span><br><span class="line">		<span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./js/jquery.min.js"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> canvas = $(<span class="string">"#canvas"</span>)</span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> cxt = canvas.get(<span class="number">0</span>).getContext(<span class="string">"2d"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 绘制灰色图层</span></span></span><br><span class="line"><span class="undefined">		cxt.beginPath();</span></span><br><span class="line"><span class="javascript">		cxt.fillStyle = <span class="string">"#ccc"</span>;</span></span><br><span class="line"><span class="undefined">		cxt.fillRect(0,0,263,134);</span></span><br><span class="line"><span class="undefined">		cxt.closePath();</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 刮刮操作</span></span></span><br><span class="line"><span class="undefined">		canvas.mousedown(down);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 创建鼠标按下方法</span></span></span><br><span class="line"><span class="javascript">		<span class="function"><span class="keyword">function</span> <span class="title">down</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">			canvas.mousemove(move);</span></span><br><span class="line"><span class="javascript">			<span class="comment">//</span></span></span><br><span class="line"><span class="javascript">			<span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">ev</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">				<span class="comment">// 获取鼠标在 canvas中的坐标点</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> dx = ev.pageX - $(<span class="keyword">this</span>).offset().left;</span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> dy = ev.pageY - $(<span class="keyword">this</span>).offset().top;</span></span><br><span class="line"><span class="javascript">				<span class="comment">// console.log(dx,dy);</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">				<span class="comment">// 设置合并属性</span></span></span><br><span class="line"><span class="javascript">				cxt.globalCompositeOperation = <span class="string">"destination-out"</span>;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">				<span class="comment">// 绘制新图</span></span></span><br><span class="line"><span class="undefined">				cxt.beginPath();</span></span><br><span class="line"><span class="javascript">				cxt.arc(dx,dy,<span class="number">20</span>,<span class="number">0</span>, <span class="number">2</span> * <span class="built_in">Math</span>.PI,<span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined">				cxt.fill();</span></span><br><span class="line"><span class="undefined">				cxt.closePath();</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">				<span class="comment">// 当清空面积达到 80%;清空所有</span></span></span><br><span class="line"><span class="javascript">				<span class="comment">// getImageData(起始 x, 起始 y, 获取图形的宽度,获取图像的高度)</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> imgData = cxt.getImageData(<span class="number">0</span>,<span class="number">0</span>,canvas.width(),canvas.height());</span></span><br><span class="line"><span class="javascript">				<span class="comment">// console.log(imgData);</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> colorBox = imgData.data;</span></span><br><span class="line"><span class="javascript">				<span class="comment">// console.log(colorBox.length);</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> count = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">				<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; colorBox.length; i+=<span class="number">4</span>) &#123;</span></span><br><span class="line"><span class="javascript">					<span class="keyword">if</span> (colorBox[i+<span class="number">3</span>] == <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="undefined">						count++;</span></span><br><span class="line"><span class="undefined">					&#125;</span></span><br><span class="line"><span class="undefined">				&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">				<span class="built_in">console</span>.log(count);</span></span><br><span class="line"><span class="javascript">				<span class="comment">// 判断是否是 50% ;</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">if</span> (count &gt;= colorBox.length/ <span class="number">4</span> * <span class="number">0.5</span>) &#123;</span></span><br><span class="line"><span class="undefined">					cxt.clearRect(0,0,canvas.width(),canvas.height());</span></span><br><span class="line"><span class="undefined">				&#125;</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">			<span class="comment">// 设置 up方法</span></span></span><br><span class="line"><span class="undefined">			canvas.mouseup(up);</span></span><br><span class="line"><span class="javascript">			<span class="function"><span class="keyword">function</span> <span class="title">up</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">				$(<span class="keyword">this</span>).off(<span class="string">"mousemove"</span>);</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="undefined">		&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		$(<span class="string">".wrap p"</span>).text(<span class="string">"你上当了"</span>);</span></span><br><span class="line"><span class="undefined">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="放大镜"><a href="#放大镜" class="headerlink" title="放大镜"></a>放大镜</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>canvas放大镜<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span> <span class="attr">media</span>=<span class="string">"screen"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">		<span class="selector-id">#canvas</span> &#123;</span></span><br><span class="line"><span class="undefined">			border: 2px solid red;</span></span><br><span class="line"><span class="undefined">			display: block;</span></span><br><span class="line"><span class="undefined">			margin: 0 auto;</span></span><br><span class="line"><span class="undefined">		&#125;</span></span><br><span class="line"><span class="undefined">	</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"300"</span> <span class="attr">height</span>=<span class="string">"450"</span>&gt;</span></span><br><span class="line">		您的浏览器不支持 canvas!</span><br><span class="line">	<span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./js/jquery-2.0.3.js"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> canvas = $(<span class="string">"#canvas"</span>);</span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> cxt = canvas.get(<span class="number">0</span>).getContext(<span class="string">"2d"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		$(<span class="string">"&lt;img/&gt;"</span>).prop(<span class="string">"src"</span>,<span class="string">"./img/bg4.jpg"</span>).load(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">			cxt.drawImage(<span class="keyword">this</span>,<span class="number">0</span>,<span class="number">0</span>,canvas.width(),canvas.height());</span></span><br><span class="line"><span class="undefined">		&#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 设置鼠标进入图片操作</span></span></span><br><span class="line"><span class="javascript">		<span class="function"><span class="keyword">function</span> <span class="title">enter</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">			canvas.mousemove(move);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">			<span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">ev</span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">				cxt.clearRect(0,0,canvas.width(),canvas.height());</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">				<span class="comment">// 再次绘制</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> img1 = $(<span class="string">"&lt;img/&gt;"</span>).prop(<span class="string">"src"</span>,<span class="string">"./img/bg4.jpg"</span>).get(<span class="number">0</span>);</span></span><br><span class="line"><span class="undefined">				cxt.drawImage(img1,0,0,canvas.width(),canvas.height());</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> dx = ev.pageX - canvas.offset().left;</span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> dy = ev.pageY - canvas.offset().top;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">				<span class="comment">// 设置合并属性</span></span></span><br><span class="line"><span class="javascript">				<span class="comment">// cxt.globalCompositeOperation = "destination-out";</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">				<span class="comment">// 开始绘制</span></span></span><br><span class="line"><span class="undefined">				cxt.beginPath();</span></span><br><span class="line"><span class="javascript">				cxt.arc(dx,dy,<span class="number">40</span>,<span class="number">0</span>,<span class="built_in">Math</span>.PI*<span class="number">2</span>,<span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined">				cxt.fill();</span></span><br><span class="line"><span class="undefined">				cxt.closePath();</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">				<span class="comment">// 设置合并属性</span></span></span><br><span class="line"><span class="javascript">				<span class="comment">// cxt.globalCompositeOperation = "destination-over";</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> img2 = $(<span class="string">"&lt;img/&gt;"</span>).prop(<span class="string">"src"</span>,<span class="string">"./img/bg4.jpg"</span>).get(<span class="number">0</span>);</span></span><br><span class="line"><span class="undefined">				cxt.drawImage(img2,dx*2-40,dy*2-40,80,80,dx-40,dy-40,80,80);</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">			canvas.mouseleave(leave);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">			<span class="function"><span class="keyword">function</span> <span class="title">leave</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">				cxt.clearRect(0,0,canvas.width(),canvas.height());</span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> img1 = $(<span class="string">"&lt;img/&gt;"</span>).prop(<span class="string">"src"</span>,<span class="string">"./img/bg4.jpg"</span>).get(<span class="number">0</span>);</span></span><br><span class="line"><span class="undefined">				cxt.drawImage(img1,0,0,canvas.width(),canvas.height());</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="undefined">		&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">		enter();</span></span><br><span class="line"><span class="undefined">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="钟表"><a href="#钟表" class="headerlink" title="钟表"></a>钟表</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>canvas钟表<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">style</span> <span class="attr">media</span>=<span class="string">"screen"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">			body &#123;</span></span><br><span class="line"><span class="css">				<span class="selector-tag">background-color</span>: <span class="selector-id">#eee</span>;</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="css">			<span class="selector-id">#canvas</span> &#123;</span></span><br><span class="line"><span class="undefined">				border: 2px solid red;</span></span><br><span class="line"><span class="undefined">				display: block;</span></span><br><span class="line"><span class="undefined">				margin: 0 auto;</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="undefined">	</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"600"</span> <span class="attr">height</span>=<span class="string">"600"</span>&gt;</span></span><br><span class="line">			您的浏览器不支持 canvas! 太 low 了,赶快升级吧!</span><br><span class="line">		<span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"canvas"</span>);</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> cxt = canvas.getContext(<span class="string">"2d"</span>);</span></span><br><span class="line"><span class="javascript">			<span class="comment">// 画表</span></span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> positions = [</span></span><br><span class="line"><span class="javascript">				[<span class="string">"#333"</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">200</span>,<span class="number">0</span>,<span class="built_in">Math</span>.PI * <span class="number">2</span>,<span class="literal">false</span>], <span class="comment">// 外圈</span></span></span><br><span class="line"><span class="javascript">				[<span class="string">"#fff"</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">180</span>,<span class="number">0</span>,<span class="built_in">Math</span>.PI * <span class="number">2</span>,<span class="literal">false</span>], <span class="comment">// 内圈</span></span></span><br><span class="line"><span class="javascript">				[<span class="string">"#333"</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">10</span>,<span class="number">0</span>,<span class="built_in">Math</span>.PI * <span class="number">2</span>,<span class="literal">false</span>] <span class="comment">//  中心点</span></span></span><br><span class="line"><span class="undefined">			];</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> deg = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">			<span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">				deg++;</span></span><br><span class="line"><span class="undefined">				cxt.clearRect(0,0,canvas.width,canvas.height);</span></span><br><span class="line"><span class="undefined">				cxt.save();</span></span><br><span class="line"><span class="undefined">				cxt.translate(300,300);</span></span><br><span class="line"><span class="javascript">				<span class="comment">// 起始点设置为12点</span></span></span><br><span class="line"><span class="javascript">				cxt.rotate(-<span class="built_in">Math</span>.PI/<span class="number">2</span>);</span></span><br><span class="line"><span class="javascript">				<span class="comment">// 边框</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span></span><br><span class="line"><span class="undefined">					cxt.beginPath();</span></span><br><span class="line"><span class="undefined">					cxt.fillStyle = positions[i][0];</span></span><br><span class="line"><span class="undefined">					cxt.arc(positions[i][1],positions[i][2],positions[i][3],positions[i][4],positions[i][5],positions[i][6]);</span></span><br><span class="line"><span class="undefined">					cxt.fill();</span></span><br><span class="line"><span class="undefined">					cxt.closePath();</span></span><br><span class="line"><span class="undefined">				&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">				<span class="comment">// 刻度</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">60</span>; i++) &#123;</span></span><br><span class="line"><span class="undefined">					cxt.save();</span></span><br><span class="line"><span class="undefined">					cxt.beginPath();</span></span><br><span class="line"><span class="javascript">					cxt.rotate(<span class="built_in">Math</span>.PI/<span class="number">180</span> * (i*<span class="number">6</span>));</span></span><br><span class="line"><span class="javascript">					<span class="keyword">if</span>(i%<span class="number">5</span> == <span class="number">0</span>)&#123;</span></span><br><span class="line"><span class="javascript">						<span class="comment">//大刻度</span></span></span><br><span class="line"><span class="undefined">						cxt.fillRect(-180,-5,20,10);</span></span><br><span class="line"><span class="javascript">					&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">						<span class="comment">// 小刻度</span></span></span><br><span class="line"><span class="undefined">						cxt.fillRect(-180,-2,10,4);</span></span><br><span class="line"><span class="undefined">					&#125;</span></span><br><span class="line"><span class="undefined">					cxt.closePath();</span></span><br><span class="line"><span class="undefined">					cxt.restore();</span></span><br><span class="line"><span class="undefined">				&#125;</span></span><br><span class="line"><span class="javascript">				<span class="comment">// canvas 文字</span></span></span><br><span class="line"><span class="undefined">				cxt.beginPath();</span></span><br><span class="line"><span class="javascript">				cxt.rotate(<span class="built_in">Math</span>.PI/<span class="number">2</span>);</span></span><br><span class="line"><span class="javascript">				cxt.font = <span class="string">"50px '宋体'"</span>;</span></span><br><span class="line"><span class="javascript">				cxt.fillStyle = <span class="string">"crimson"</span>;</span></span><br><span class="line"><span class="javascript">				cxt.textAlign = <span class="string">"center"</span>;</span></span><br><span class="line"><span class="javascript">				cxt.fillText(<span class="string">"canvas"</span>,<span class="number">5</span>,<span class="number">100</span>);</span></span><br><span class="line"><span class="undefined">				cxt.closePath();</span></span><br><span class="line"><span class="javascript">				cxt.rotate(-<span class="built_in">Math</span>.PI/<span class="number">2</span>);</span></span><br><span class="line"><span class="javascript">				<span class="comment">// 时针</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//				cxt.beginPath();</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//				cxt.fillStyle = "#333";</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//				cxt.rotate((Math.PI/180) * (deg * 1/3600/60));</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//				cxt.fillRect(-20,-4,130,8);</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//				cxt.closePath();</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//				// 分针</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//				cxt.beginPath();</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//				cxt.fillStyle = "#333";</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//				cxt.rotate((Math.PI/180) * (deg * 1/10));</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//				cxt.fillRect(125,-3,-150,6);</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//				cxt.closePath();</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//				// 秒针</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//				cxt.beginPath();</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//				cxt.fillStyle = "red";</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//				cxt.rotate((Math.PI/180) * (deg * 6));</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//				cxt.fillRect(130,-4,-160,6);</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//				cxt.closePath();</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//</span></span></span><br><span class="line"><span class="undefined">				cxt.restore();</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="undefined">			draw();</span></span><br><span class="line"><span class="javascript">			<span class="comment">// 画表针</span></span></span><br><span class="line"><span class="javascript">			<span class="function"><span class="keyword">function</span> <span class="title">drawZhen</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">				<span class="comment">// 获取当前系统时间</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> time = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> h = time.getHours(); <span class="comment">// 时</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> m = time.getMinutes(); <span class="comment">// 分</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> s = time.getSeconds(); <span class="comment">// 秒</span></span></span><br><span class="line"><span class="javascript">				<span class="comment">//画时针</span></span></span><br><span class="line"><span class="undefined">				cxt.save();</span></span><br><span class="line"><span class="undefined">				cxt.translate(300,300);</span></span><br><span class="line"><span class="javascript">				cxt.rotate(<span class="built_in">Math</span>.PI/<span class="number">180</span> * h * <span class="number">30</span> + <span class="built_in">Math</span>.PI/<span class="number">180</span> * m/<span class="number">60</span>*<span class="number">30</span> + <span class="built_in">Math</span>.PI/<span class="number">180</span> * s/<span class="number">3600</span>*<span class="number">30</span>);</span></span><br><span class="line"><span class="undefined">				cxt.fillRect(-4,-110,8,130);</span></span><br><span class="line"><span class="undefined">				cxt.restore();</span></span><br><span class="line"><span class="javascript">				<span class="comment">//画分针</span></span></span><br><span class="line"><span class="undefined">				cxt.save();</span></span><br><span class="line"><span class="undefined">				cxt.translate(300,300);</span></span><br><span class="line"><span class="javascript">				cxt.rotate(<span class="built_in">Math</span>.PI/<span class="number">180</span> * m * <span class="number">6</span> + <span class="built_in">Math</span>.PI/<span class="number">180</span> * s/<span class="number">60</span>*<span class="number">6</span>);</span></span><br><span class="line"><span class="undefined">				cxt.fillRect(-2,-130,6,150);</span></span><br><span class="line"><span class="undefined">				cxt.restore();</span></span><br><span class="line"><span class="javascript">				<span class="comment">//画秒针</span></span></span><br><span class="line"><span class="undefined">				cxt.save();</span></span><br><span class="line"><span class="undefined">				cxt.translate(300,300);</span></span><br><span class="line"><span class="javascript">				cxt.rotate(<span class="built_in">Math</span>.PI/<span class="number">180</span> * s * <span class="number">6</span>);</span></span><br><span class="line"><span class="javascript">				cxt.fillStyle = <span class="string">"crimson"</span>;</span></span><br><span class="line"><span class="undefined">				cxt.fillRect(-2,-130,4,150);</span></span><br><span class="line"><span class="undefined">				cxt.restore();</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="javascript">			<span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">				cxt.clearRect(0,0,canvas.width,canvas.height);</span></span><br><span class="line"><span class="undefined">				draw();</span></span><br><span class="line"><span class="undefined">				drawZhen();</span></span><br><span class="line"><span class="javascript">				<span class="built_in">window</span>.requestAnimationFrame(move);</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="undefined">			move();</span></span><br><span class="line"><span class="undefined">			setInterval(move,1000);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">		</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="视频马赛克原理"><a href="#视频马赛克原理" class="headerlink" title="视频马赛克原理"></a>视频马赛克原理</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>视频马赛克<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">			<span class="selector-id">#canvas</span> &#123;</span></span><br><span class="line"><span class="undefined">				border: 2px solid red;</span></span><br><span class="line"><span class="undefined">				display: block;</span></span><br><span class="line"><span class="undefined">				margin: 0 auto;</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="undefined">			video &#123;</span></span><br><span class="line"><span class="undefined">				display: none;</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="css">			<span class="selector-class">.btns</span> &#123;</span></span><br><span class="line"><span class="undefined">				text-align: center;</span></span><br><span class="line"><span class="undefined">				margin-top: 20px;</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="undefined">			button &#123;</span></span><br><span class="line"><span class="undefined">				height: 30px;</span></span><br><span class="line"><span class="undefined">				padding: 0 10px;</span></span><br><span class="line"><span class="undefined">				line-height: 30px;</span></span><br><span class="line"><span class="undefined">				cursor: pointer;</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="undefined">		</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"600"</span> <span class="attr">height</span>=<span class="string">"400"</span>&gt;</span></span><br><span class="line">			你的浏览器不支持canvas!</span><br><span class="line">		<span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">video</span> <span class="attr">id</span>=<span class="string">"vplay"</span> <span class="attr">width</span>=<span class="string">"600"</span> <span class="attr">height</span>=<span class="string">"400"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"./video/1.mp4"</span> <span class="attr">type</span>=<span class="string">"video/mp4"</span>&gt;</span><span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"btns"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"play"</span>&gt;</span>播放<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"wuma"</span>&gt;</span>高清无码<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"fma"</span>&gt;</span>方形马赛克<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"yma"</span>&gt;</span>圆形马赛克<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"stop"</span>&gt;</span>暂停<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> canvas = getId(<span class="string">"canvas"</span>);</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> cxt = canvas.getContext(<span class="string">"2d"</span>);</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> video = getId(<span class="string">"vplay"</span>);</span></span><br><span class="line"><span class="javascript">			<span class="comment">// 获取 按钮</span></span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> play = getId(<span class="string">"play"</span>);</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> wuma = getId(<span class="string">"wuma"</span>);</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> fma = getId(<span class="string">"fma"</span>);</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> yma = getId(<span class="string">"yma"</span>);</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> stop = getId(<span class="string">"stop"</span>);</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> isMosaic = <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> shape = <span class="string">""</span>;</span></span><br><span class="line"><span class="javascript">			<span class="comment">// 点击播放按钮</span></span></span><br><span class="line"><span class="javascript">			play.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">				vplay.play();</span></span><br><span class="line"><span class="undefined">				draw();</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="javascript">			<span class="comment">// 点击暂停按钮</span></span></span><br><span class="line"><span class="javascript">			stop.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">				vplay.pause();</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="javascript">			<span class="comment">// 点击高清无码</span></span></span><br><span class="line"><span class="javascript">			wuma.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				isMosaic = <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="javascript">			<span class="comment">// 方形马赛克</span></span></span><br><span class="line"><span class="javascript">			fma.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				isMosaic = <span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">				shape = <span class="string">'square'</span>;</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="javascript">			<span class="comment">// 圆形马赛克</span></span></span><br><span class="line"><span class="javascript">			yma.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				isMosaic = <span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">				shape = <span class="string">'circle'</span>;</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="javascript">			<span class="comment">// 绘制方法</span></span></span><br><span class="line"><span class="javascript">			<span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">				cxt.clearRect(0,0,600,400);</span></span><br><span class="line"><span class="undefined">				cxt.drawImage(vplay,0,0,600,400);</span></span><br><span class="line"><span class="javascript">				<span class="comment">// 判断是否有马赛克</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">if</span>(isMosaic)&#123;</span></span><br><span class="line"><span class="javascript">					<span class="comment">// 马赛克的原理就是把播放的图片分成一块一块的小图,并给这些小图,并给这些小图设置统一的颜色</span></span></span><br><span class="line"><span class="javascript">					<span class="keyword">var</span> imageData = cxt.getImageData(<span class="number">0</span>,<span class="number">0</span>,<span class="number">600</span>,<span class="number">400</span>);</span></span><br><span class="line"><span class="javascript">					<span class="comment">// 清除原来的图片</span></span></span><br><span class="line"><span class="undefined">					cxt.clearRect(0,0,600,400);</span></span><br><span class="line"><span class="javascript">					<span class="comment">// 设置马赛克小格子的宽和高</span></span></span><br><span class="line"><span class="javascript">					<span class="keyword">var</span> height = <span class="number">5</span>;</span></span><br><span class="line"><span class="javascript">					<span class="keyword">var</span> width = <span class="number">5</span>;</span></span><br><span class="line"><span class="javascript">					<span class="comment">// 获取宽高为5px 的行和列 h:80 w:120</span></span></span><br><span class="line"><span class="javascript">					<span class="keyword">var</span> row = <span class="built_in">Math</span>.floor(canvas.height / height);</span></span><br><span class="line"><span class="javascript">					<span class="keyword">var</span> col = <span class="built_in">Math</span>.floor(canvas.width / width);</span></span><br><span class="line"><span class="javascript">					<span class="comment">// 遍历每个小格</span></span></span><br><span class="line"><span class="javascript">					<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span> ; i&lt; row;i++) &#123;</span></span><br><span class="line"><span class="javascript">						<span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; col; j++) &#123;</span></span><br><span class="line"><span class="javascript">							<span class="comment">// 找最中间的点</span></span></span><br><span class="line"><span class="javascript">							<span class="keyword">var</span> x = j * width + <span class="built_in">Math</span>.floor(width/<span class="number">2</span>);</span></span><br><span class="line"><span class="javascript">							<span class="keyword">var</span> y = i * height + <span class="built_in">Math</span>.floor(height/<span class="number">2</span>);</span></span><br><span class="line"><span class="javascript">							<span class="comment">// 找该点的位置在像素数组中的下标</span></span></span><br><span class="line"><span class="javascript">							<span class="keyword">var</span> pos = (y<span class="number">-1</span>) * canvas.width * <span class="number">4</span> + x * <span class="number">4</span>;</span></span><br><span class="line"><span class="javascript">							<span class="keyword">var</span> colors = imageData.data;</span></span><br><span class="line"><span class="javascript">							<span class="comment">// 获取这个点的 rgb</span></span></span><br><span class="line"><span class="javascript">							<span class="keyword">var</span> r = colors[pos];</span></span><br><span class="line"><span class="javascript">							<span class="keyword">var</span> g = colors[pos + <span class="number">1</span>];</span></span><br><span class="line"><span class="javascript">							<span class="keyword">var</span> b = colors[pos + <span class="number">2</span>];</span></span><br><span class="line"><span class="javascript">							<span class="comment">// 设置填充颜色</span></span></span><br><span class="line"><span class="javascript">							cxt.fillStyle = <span class="string">"rgb("</span>+ r +<span class="string">","</span>+ g +<span class="string">","</span>+ b +<span class="string">")"</span>;</span></span><br><span class="line"><span class="javascript">							<span class="comment">// 判断马赛克的类型</span></span></span><br><span class="line"><span class="javascript">							<span class="keyword">if</span>(shape == <span class="string">'square'</span>)&#123;</span></span><br><span class="line"><span class="javascript">								<span class="comment">// 方形马赛克</span></span></span><br><span class="line"><span class="undefined">								cxt.beginPath();</span></span><br><span class="line"><span class="javascript">								cxt.fillRect(x - <span class="built_in">Math</span>.floor(width/<span class="number">2</span>),y - <span class="built_in">Math</span>.floor(height/<span class="number">2</span>),width,height);</span></span><br><span class="line"><span class="undefined">								cxt.closePath();</span></span><br><span class="line"><span class="javascript">							&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">								<span class="comment">// 圆形马赛克</span></span></span><br><span class="line"><span class="undefined">								cxt.beginPath();</span></span><br><span class="line"><span class="javascript">								cxt.arc(x,y,<span class="built_in">Math</span>.floor(width/<span class="number">2</span>),<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI,<span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined">								cxt.fill();</span></span><br><span class="line"><span class="undefined">								cxt.closePath();</span></span><br><span class="line"><span class="undefined">							&#125;</span></span><br><span class="line"><span class="undefined">						&#125;</span></span><br><span class="line"><span class="undefined">					&#125;</span></span><br><span class="line"><span class="undefined">				&#125;</span></span><br><span class="line"><span class="javascript">				<span class="comment">// 设置循环</span></span></span><br><span class="line"><span class="javascript">				<span class="built_in">window</span>.requestAnimationFrame(draw);</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="javascript">			<span class="comment">// 获取id</span></span></span><br><span class="line"><span class="javascript">			<span class="function"><span class="keyword">function</span> <span class="title">getId</span>(<span class="params">id</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">				<span class="keyword">return</span> <span class="built_in">document</span>.getElementById(id);</span></span><br><span class="line"><span class="undefined">			&#125;;</span></span><br><span class="line"><span class="undefined">		</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="悟空棒"><a href="#悟空棒" class="headerlink" title="悟空棒"></a>悟空棒</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="canvas滤镜"><a href="#canvas滤镜" class="headerlink" title="canvas滤镜"></a>canvas滤镜</h3><ul>
<li>getImageData() 获取像素信息</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>canvas滤镜<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">			<span class="selector-id">#canvas</span> &#123;</span></span><br><span class="line"><span class="undefined">				border:  2px solid red;</span></span><br><span class="line"><span class="undefined">				display: block;</span></span><br><span class="line"><span class="undefined">				margin: 0 auto;</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="css">			<span class="selector-id">#btn</span> &#123;</span></span><br><span class="line"><span class="undefined">				text-align: center;</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="undefined">			button &#123;</span></span><br><span class="line"><span class="undefined">				cursor: pointer;</span></span><br><span class="line"><span class="undefined">				height: 30px;</span></span><br><span class="line"><span class="undefined">				line-height: 30px;</span></span><br><span class="line"><span class="undefined">				text-align: center;</span></span><br><span class="line"><span class="undefined">			&#125;</span></span><br><span class="line"><span class="undefined">		</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"600"</span> <span class="attr">height</span>=<span class="string">"900"</span>&gt;</span></span><br><span class="line">			您的浏览器不支持 canvas!</span><br><span class="line">		<span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span>&gt;</span>原图<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span>&gt;</span>取反<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span>&gt;</span>灰度<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span>&gt;</span>黑白<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/jquery-2.0.3.js"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> canvas = $(<span class="string">"#canvas"</span>);</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> cxt = canvas.get(<span class="number">0</span>).getContext(<span class="string">"2d"</span>);</span></span><br><span class="line"><span class="javascript">			<span class="comment">//判断是否加载完毕</span></span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> dol = <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">			<span class="comment">//绘制</span></span></span><br><span class="line"><span class="javascript">			$(<span class="string">"&lt;img/&gt;"</span>).prop(<span class="string">"src"</span>,<span class="string">"img/bg4.jpg"</span>).load(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				cxt.drawImage(<span class="keyword">this</span>,<span class="number">0</span>,<span class="number">0</span>);</span></span><br><span class="line"><span class="javascript">				dol = <span class="literal">true</span>;</span></span><br><span class="line"><span class="undefined">			&#125;);</span></span><br><span class="line"><span class="javascript">			<span class="comment">// 获取所有按钮</span></span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> btns = $(<span class="string">"button"</span>);</span></span><br><span class="line"><span class="javascript">			<span class="comment">// 点击原图</span></span></span><br><span class="line"><span class="javascript">			btns.eq(<span class="number">0</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				<span class="keyword">if</span> (dol) &#123;</span></span><br><span class="line"><span class="undefined">					cxt.clearRect(0,0,canvas.width(),canvas.height());</span></span><br><span class="line"><span class="javascript">					<span class="comment">// 绘制</span></span></span><br><span class="line"><span class="javascript">					<span class="keyword">var</span> img = $(<span class="string">"&lt;img/&gt;"</span>).prop(<span class="string">"src"</span>,<span class="string">"img/bg4.jpg"</span>);</span></span><br><span class="line"><span class="undefined">					cxt.drawImage(img.get(0),0,0);</span></span><br><span class="line"><span class="undefined">				&#125;</span></span><br><span class="line"><span class="undefined">			&#125;);</span></span><br><span class="line"><span class="javascript">			<span class="comment">// 取反:把图上所有点的 rgb 值转化为和255的差(255-当前值);</span></span></span><br><span class="line"><span class="javascript">			btns.eqa(<span class="number">1</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				<span class="keyword">if</span>(dol)&#123;</span></span><br><span class="line"><span class="javascript">					<span class="keyword">var</span> imageData = cxt.getImageData(<span class="number">0</span>,<span class="number">0</span>,canvas.width(),canvas.height());</span></span><br><span class="line"><span class="javascript">					<span class="keyword">var</span> colors = imageData.data;</span></span><br><span class="line"><span class="javascript">					<span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; colors.length;i+=<span class="number">4</span>)&#123;</span></span><br><span class="line"><span class="undefined">						colors[i] = 255 - colors[i];</span></span><br><span class="line"><span class="undefined">						colors[i+1] = 255 - colors[i+1];</span></span><br><span class="line"><span class="undefined">						colors[i+2] = 255 - colors[i+2];</span></span><br><span class="line"><span class="undefined">					&#125;</span></span><br><span class="line"><span class="javascript">					<span class="comment">// 更新数据 使用 cxt.putImageData(数据对象,开始第一个像素的 x, 开始第一个像素的y)</span></span></span><br><span class="line"><span class="undefined">					cxt.putImageData(imageData,0,0);</span></span><br><span class="line"><span class="undefined">				&#125;</span></span><br><span class="line"><span class="undefined">			&#125;);</span></span><br><span class="line"><span class="javascript">			<span class="comment">// 灰度: 其实就是求 rgb 的平均值</span></span></span><br><span class="line"><span class="javascript">			btns.eq(<span class="number">2</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				<span class="keyword">if</span>(dol)&#123;</span></span><br><span class="line"><span class="javascript">					<span class="keyword">var</span> imageData = cxt.getImageData(<span class="number">0</span>,<span class="number">0</span>,canvas.width(),canvas.height());</span></span><br><span class="line"><span class="javascript">					<span class="keyword">var</span> colors = imageData.data;</span></span><br><span class="line"><span class="javascript">					<span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; colors.length;i+=<span class="number">4</span>)&#123;</span></span><br><span class="line"><span class="javascript">						<span class="keyword">var</span> mul = (colors[i] + colors[i+<span class="number">1</span>] + colors[i+<span class="number">2</span>]) / <span class="number">3</span>;</span></span><br><span class="line"><span class="undefined">						colors[i] = mul;</span></span><br><span class="line"><span class="undefined">						colors[i+1] = mul;</span></span><br><span class="line"><span class="undefined">						colors[i+2] = mul;</span></span><br><span class="line"><span class="undefined">					&#125;</span></span><br><span class="line"><span class="undefined">					cxt.putImageData(imageData,0,0);</span></span><br><span class="line"><span class="undefined">				&#125;</span></span><br><span class="line"><span class="undefined">			&#125;);</span></span><br><span class="line"><span class="javascript">			<span class="comment">// 黑白: rgb的 平均值大于128改为255,小于的改为0</span></span></span><br><span class="line"><span class="javascript">			btns.eq(<span class="number">3</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				<span class="keyword">if</span>(dol)&#123;</span></span><br><span class="line"><span class="javascript">					<span class="keyword">var</span> imageData = cxt.getImageData(<span class="number">0</span>,<span class="number">0</span>,canvas.width(),canvas.height());</span></span><br><span class="line"><span class="javascript">					<span class="keyword">var</span> colors = imageData.data;</span></span><br><span class="line"><span class="javascript">					<span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; colors.length;i+=<span class="number">4</span>)&#123;</span></span><br><span class="line"><span class="javascript">						<span class="keyword">var</span> mul = (colors[i] + colors[i+<span class="number">1</span>] + colors[i+<span class="number">2</span>]) / <span class="number">3</span>;</span></span><br><span class="line"><span class="undefined">						mul = mul &gt; 128 ? 255 : 0;</span></span><br><span class="line"><span class="undefined">						colors[i] = mul;</span></span><br><span class="line"><span class="undefined">						colors[i+1] = mul;</span></span><br><span class="line"><span class="undefined">						colors[i+2] = mul;</span></span><br><span class="line"><span class="undefined">					&#125;</span></span><br><span class="line"><span class="undefined">					cxt.putImageData(imageData,0,0);</span></span><br><span class="line"><span class="undefined">				&#125;</span></span><br><span class="line"><span class="undefined">			&#125;);</span></span><br><span class="line"><span class="undefined">		</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

      
    </div>
    
    
    
    <div>
      
        <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束感谢您的阅读-------------</div>
    
</div>
      
    </div>
    <div>
    
    </div>
    <div>
    
    </div>
    <div>
    
    </div>
    <footer class="post-footer">

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/franksunhd.github.io/2019/01/10/bootstrap-advance/" rel="next" title="BootStrap组件/字体图标">
                <i class="fa fa-chevron-left"></i> BootStrap组件/字体图标
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/franksunhd.github.io/2019/01/10/svg/" rel="prev" title="svg绘图">
                svg绘图 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/franksunhd.github.io/images/avatar.png" alt="franksun">
            
              <p class="site-author-name" itemprop="name">franksun</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/franksunhd.github.io/archives/">
              
                  <span class="site-state-item-count">33</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/franksunhd.github.io/categories/index.html">
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/franksunhd.github.io/tags/index.html">
                  <span class="site-state-item-count">42</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/franksunhd" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#什么是-canvas"><span class="nav-number">1.</span> <span class="nav-text">什么是 canvas?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#canvas-的特点"><span class="nav-number">2.</span> <span class="nav-text">canvas 的特点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#canvas-的应用领域"><span class="nav-number">3.</span> <span class="nav-text">canvas 的应用领域</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#canvas-语法"><span class="nav-number">4.</span> <span class="nav-text">canvas 语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常用操作方法"><span class="nav-number">5.</span> <span class="nav-text">常用操作方法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#getContext-“2d”"><span class="nav-number">5.1.</span> <span class="nav-text">getContext(“2d”);</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ctx-beginPath"><span class="nav-number">5.2.</span> <span class="nav-text">ctx.beginPath()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ctx-closePath"><span class="nav-number">5.3.</span> <span class="nav-text">ctx.closePath()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ctx-moveTo-x-y"><span class="nav-number">5.4.</span> <span class="nav-text">ctx.moveTo(x,y)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ctx-lineTo-x-y"><span class="nav-number">5.5.</span> <span class="nav-text">ctx.lineTo(x,y)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ctx-stroke"><span class="nav-number">5.6.</span> <span class="nav-text">ctx.stroke()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ctx-fill"><span class="nav-number">5.7.</span> <span class="nav-text">ctx.fill()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ctx-rect-x-y-w-h"><span class="nav-number">5.8.</span> <span class="nav-text">ctx.rect(x,y,w,h)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ctx-fillRect-x-y-w-h"><span class="nav-number">5.9.</span> <span class="nav-text">ctx.fillRect(x,y,w,h)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ctx-strokeRect-x-y-w-h"><span class="nav-number">5.10.</span> <span class="nav-text">ctx.strokeRect(x,y,w,h)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ctx-clearRect-x-y-w-h"><span class="nav-number">5.11.</span> <span class="nav-text">ctx.clearRect(x,y,w,h)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ctx-arc-x-y-r-s-e-c"><span class="nav-number">5.12.</span> <span class="nav-text">ctx.arc(x,y,r,s,e,c)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#arcTo-x-y-x-y-r"><span class="nav-number">5.13.</span> <span class="nav-text">arcTo(x,y,x,y,r)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常用属性"><span class="nav-number">6.</span> <span class="nav-text">常用属性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ctx-strokeStyle"><span class="nav-number">6.1.</span> <span class="nav-text">ctx.strokeStyle</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ctx-fillStyle"><span class="nav-number">6.2.</span> <span class="nav-text">ctx.fillStyle</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ctx-lineWidth"><span class="nav-number">6.3.</span> <span class="nav-text">ctx.lineWidth</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#cxt-font"><span class="nav-number">6.4.</span> <span class="nav-text">cxt.font</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#cxt-textAlign"><span class="nav-number">6.5.</span> <span class="nav-text">cxt.textAlign</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#cxt-textBaseline"><span class="nav-number">6.6.</span> <span class="nav-text">cxt.textBaseline</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#阴影x轴的偏移量-y轴的偏移量"><span class="nav-number">6.7.</span> <span class="nav-text">阴影x轴的偏移量/y轴的偏移量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#阴影颜色-模糊度"><span class="nav-number">6.8.</span> <span class="nav-text">阴影颜色/模糊度</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#坐标轴形变"><span class="nav-number">6.9.</span> <span class="nav-text">坐标轴形变</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#旋转"><span class="nav-number">6.10.</span> <span class="nav-text">旋转</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#cxt-globalAlpha"><span class="nav-number">6.11.</span> <span class="nav-text">cxt.globalAlpha</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#应用实例"><span class="nav-number">7.</span> <span class="nav-text">应用实例</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#绘制点线"><span class="nav-number">7.1.</span> <span class="nav-text">绘制点线</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#绘制矩形"><span class="nav-number">7.2.</span> <span class="nav-text">绘制矩形</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#绘制文本"><span class="nav-number">7.3.</span> <span class="nav-text">绘制文本</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#绘制弧形"><span class="nav-number">7.4.</span> <span class="nav-text">绘制弧形</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#绘制贝塞尔曲线"><span class="nav-number">7.5.</span> <span class="nav-text">绘制贝塞尔曲线</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#绘制图片"><span class="nav-number">7.6.</span> <span class="nav-text">绘制图片</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#绘制阴影"><span class="nav-number">7.7.</span> <span class="nav-text">绘制阴影</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#线性渐变"><span class="nav-number">7.8.</span> <span class="nav-text">线性渐变</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#径向渐变"><span class="nav-number">7.9.</span> <span class="nav-text">径向渐变</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#画布缩放"><span class="nav-number">7.10.</span> <span class="nav-text">画布缩放</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#画布原点的移动"><span class="nav-number">7.11.</span> <span class="nav-text">画布原点的移动</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#画布旋转"><span class="nav-number">7.12.</span> <span class="nav-text">画布旋转</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#画布状态保存和恢复"><span class="nav-number">7.13.</span> <span class="nav-text">画布状态保存和恢复</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#画布保存为图片"><span class="nav-number">7.14.</span> <span class="nav-text">画布保存为图片</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#画布透明"><span class="nav-number">7.15.</span> <span class="nav-text">画布透明</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#画布裁剪"><span class="nav-number">7.16.</span> <span class="nav-text">画布裁剪</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#画布渲染画布"><span class="nav-number">7.17.</span> <span class="nav-text">画布渲染画布</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#视频播放"><span class="nav-number">7.18.</span> <span class="nav-text">视频播放</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#实例"><span class="nav-number">8.</span> <span class="nav-text">实例</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#空地反弹"><span class="nav-number">8.1.</span> <span class="nav-text">空地反弹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#碰撞检测"><span class="nav-number">8.2.</span> <span class="nav-text">碰撞检测</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#图像合并"><span class="nav-number">8.3.</span> <span class="nav-text">图像合并</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#制作房产证"><span class="nav-number">8.4.</span> <span class="nav-text">制作房产证</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#刮刮乐"><span class="nav-number">8.5.</span> <span class="nav-text">刮刮乐</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#放大镜"><span class="nav-number">8.6.</span> <span class="nav-text">放大镜</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#钟表"><span class="nav-number">8.7.</span> <span class="nav-text">钟表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#视频马赛克原理"><span class="nav-number">8.8.</span> <span class="nav-text">视频马赛克原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#悟空棒"><span class="nav-number">8.9.</span> <span class="nav-text">悟空棒</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#canvas滤镜"><span class="nav-number">9.</span> <span class="nav-text">canvas滤镜</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">franksun</span>

  
</div>








  <div class="footer-custom">Hosted by <a target="_blank" href="javascript:;">GitHub Pages</a></div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/franksunhd.github.io/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/franksunhd.github.io/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/franksunhd.github.io/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/franksunhd.github.io/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/franksunhd.github.io/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/franksunhd.github.io/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/franksunhd.github.io/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/franksunhd.github.io/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/franksunhd.github.io/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/franksunhd.github.io/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/franksunhd.github.io/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/franksunhd.github.io/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/franksunhd.github.io/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
